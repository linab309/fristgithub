///////////////////////////////////////////////////////////////////////////////
//                                                                            /
// IAR C/C++ Compiler V7.51A/W32 for 8051               08/Apr/2013  11:22:10 /
// Copyright 2004-2009 IAR Systems AB.                                        /
//                                                                            /
//    Core               =  plain                                             /
//    Code model         =  banked                                            /
//    Data model         =  large                                             /
//    Calling convention =  xdata reentrant                                   /
//    Constant location  =  data_rom                                          /
//    Dptr setup         =  1,16                                              /
//    Source file        =  C:\Texas Instruments\ZStack-CC2530-2.2.2-1.3.0\Co /
//                          mponents\mt\MT_ZDO.c                              /
//    Command line       =  -f "C:\Texas Instruments\ZStack-CC2530-2.2.2-1.3. /
//                          0\Projects\zstack\Samples\WSN_sensors\CC2530DB\.. /
//                          \..\..\Tools\CC2530DB\f8wRouter.cfg" (-DCPU32MHZ  /
//                          -DROOT=__near_func -DMAC_CFG_APP_PENDING_QUEUE=TR /
//                          UE -DRTR_NWK -DBLINK_LEDS) -f "C:\Texas           /
//                          Instruments\ZStack-CC2530-2.2.2-1.3.0\Projects\zs /
//                          tack\Samples\WSN_sensors\CC2530DB\..\..\..\Tools\ /
//                          CC2530DB\f8wConfig.cfg" (-DSECURE=0               /
//                          -DZG_SECURE_DYNAMIC=0 -DREFLECTOR                 /
//                          -DDEFAULT_CHANLIST=0x00000800                     /
//                          -DZDAPP_CONFIG_PAN_ID=0xFFFF                      /
//                          -DNWK_START_DELAY=100 -DEXTENDED_JOINING_RANDOM_M /
//                          ASK=0x007F -DBEACON_REQUEST_DELAY=100             /
//                          -DBEACON_REQ_DELAY_MASK=0x00FF                    /
//                          -DROUTE_EXPIRY_TIME=30 -DAPSC_ACK_WAIT_DURATION_P /
//                          OLLED=3000 -DNWK_INDIRECT_MSG_TIMEOUT=7           /
//                          -DMAX_RREQ_ENTRIES=8 -DAPSC_MAX_FRAME_RETRIES=3   /
//                          -DNWK_MAX_DATA_RETRIES=2                          /
//                          -DMAX_POLL_FAILURE_RETRIES=2 -DMAX_BCAST=9        /
//                          -DAPS_MAX_GROUPS=16 -DMAX_RTG_ENTRIES=40          /
//                          -DNWK_MAX_BINDING_ENTRIES=4                       /
//                          -DMAX_BINDING_CLUSTER_IDS=4                       /
//                          "-DDEFAULT_KEY={0x01, 0x03, 0x05, 0x07, 0x09,     /
//                          0x0B, 0x0D, 0x0F, 0x00, 0x02, 0x04, 0x06, 0x08,   /
//                          0x0A, 0x0C, 0x0D}" -DMAC_MAX_FRAME_SIZE=116       /
//                          "-DCONST=const __code" -DGENERIC=__generic        /
//                          -DRFD_RCVC_ALWAYS_ON=FALSE -DPOLL_RATE=1000       /
//                          -DQUEUED_POLL_RATE=100 -DRESPONSE_POLL_RATE=100)  /
//                          -DREJOIN_POLL_RATE=440 "C:\Texas                  /
//                          Instruments\ZStack-CC2530-2.2.2-1.3.0\Components\ /
//                          mt\MT_ZDO.c" -D ZTOOL_P1 -D MT_TASK -D            /
//                          MT_SYS_FUNC -D MT_ZDO_FUNC -D                     /
//                          LCD_SUPPORTED=DEBUG -lC "C:\Texas                 /
//                          Instruments\ZStack-CC2530-2.2.2-1.3.0\Projects\zs /
//                          tack\Samples\WSN_sensors\CC2530DB\RouterEB\List\" /
//                           -lA "C:\Texas Instruments\ZStack-CC2530-2.2.2-1. /
//                          3.0\Projects\zstack\Samples\WSN_sensors\CC2530DB\ /
//                          RouterEB\List\" --diag_suppress Pe001,Pa010 -o    /
//                          "C:\Texas Instruments\ZStack-CC2530-2.2.2-1.3.0\P /
//                          rojects\zstack\Samples\WSN_sensors\CC2530DB\Route /
//                          rEB\Obj\" -e --require_prototypes --no_unroll     /
//                          --no_inline --no_tbaa --debug --core=plain        /
//                          --dptr=16,1 --data_model=large                    /
//                          --code_model=banked --calling_convention=xdata_re /
//                          entrant --place_constants=data_rom                /
//                          --nr_virtual_regs 8 -I "C:\Texas                  /
//                          Instruments\ZStack-CC2530-2.2.2-1.3.0\Projects\zs /
//                          tack\Samples\WSN_sensors\CC2530DB\" -I "C:\Texas  /
//                          Instruments\ZStack-CC2530-2.2.2-1.3.0\Projects\zs /
//                          tack\Samples\WSN_sensors\CC2530DB\..\SOURCE\" -I  /
//                          "C:\Texas Instruments\ZStack-CC2530-2.2.2-1.3.0\P /
//                          rojects\zstack\Samples\WSN_sensors\CC2530DB\..\.. /
//                          \..\ZMAIN\TI2530DB\" -I "C:\Texas                 /
//                          Instruments\ZStack-CC2530-2.2.2-1.3.0\Projects\zs /
//                          tack\Samples\WSN_sensors\CC2530DB\..\..\..\..\..\ /
//                          COMPONENTS\MT\" -I "C:\Texas                      /
//                          Instruments\ZStack-CC2530-2.2.2-1.3.0\Projects\zs /
//                          tack\Samples\WSN_sensors\CC2530DB\..\..\..\..\..\ /
//                          COMPONENTS\HAL\INCLUDE\" -I "C:\Texas             /
//                          Instruments\ZStack-CC2530-2.2.2-1.3.0\Projects\zs /
//                          tack\Samples\WSN_sensors\CC2530DB\..\..\..\..\..\ /
//                          COMPONENTS\HAL\TARGET\CC2530EB\" -I "C:\Texas     /
//                          Instruments\ZStack-CC2530-2.2.2-1.3.0\Projects\zs /
//                          tack\Samples\WSN_sensors\CC2530DB\..\..\..\..\..\ /
//                          COMPONENTS\OSAL\MCU\CCSOC\" -I "C:\Texas          /
//                          Instruments\ZStack-CC2530-2.2.2-1.3.0\Projects\zs /
//                          tack\Samples\WSN_sensors\CC2530DB\..\..\..\..\..\ /
//                          COMPONENTS\OSAL\INCLUDE\" -I "C:\Texas            /
//                          Instruments\ZStack-CC2530-2.2.2-1.3.0\Projects\zs /
//                          tack\Samples\WSN_sensors\CC2530DB\..\..\..\..\..\ /
//                          COMPONENTS\STACK\AF\" -I "C:\Texas                /
//                          Instruments\ZStack-CC2530-2.2.2-1.3.0\Projects\zs /
//                          tack\Samples\WSN_sensors\CC2530DB\..\..\..\..\..\ /
//                          COMPONENTS\STACK\NWK\" -I "C:\Texas               /
//                          Instruments\ZStack-CC2530-2.2.2-1.3.0\Projects\zs /
//                          tack\Samples\WSN_sensors\CC2530DB\..\..\..\..\..\ /
//                          COMPONENTS\STACK\SEC\" -I "C:\Texas               /
//                          Instruments\ZStack-CC2530-2.2.2-1.3.0\Projects\zs /
//                          tack\Samples\WSN_sensors\CC2530DB\..\..\..\..\..\ /
//                          COMPONENTS\STACK\SAPI\" -I "C:\Texas              /
//                          Instruments\ZStack-CC2530-2.2.2-1.3.0\Projects\zs /
//                          tack\Samples\WSN_sensors\CC2530DB\..\..\..\..\..\ /
//                          COMPONENTS\STACK\SYS\" -I "C:\Texas               /
//                          Instruments\ZStack-CC2530-2.2.2-1.3.0\Projects\zs /
//                          tack\Samples\WSN_sensors\CC2530DB\..\..\..\..\..\ /
//                          COMPONENTS\STACK\ZDO\" -I "C:\Texas               /
//                          Instruments\ZStack-CC2530-2.2.2-1.3.0\Projects\zs /
//                          tack\Samples\WSN_sensors\CC2530DB\..\..\..\..\..\ /
//                          COMPONENTS\ZMAC\F8W\" -I "C:\Texas                /
//                          Instruments\ZStack-CC2530-2.2.2-1.3.0\Projects\zs /
//                          tack\Samples\WSN_sensors\CC2530DB\..\..\..\..\..\ /
//                          COMPONENTS\ZMAC\" -I "C:\Texas                    /
//                          Instruments\ZStack-CC2530-2.2.2-1.3.0\Projects\zs /
//                          tack\Samples\WSN_sensors\CC2530DB\..\..\..\..\..\ /
//                          COMPONENTS\SERVICES\SADDR\" -I "C:\Texas          /
//                          Instruments\ZStack-CC2530-2.2.2-1.3.0\Projects\zs /
//                          tack\Samples\WSN_sensors\CC2530DB\..\..\..\..\..\ /
//                          COMPONENTS\SERVICES\SDATA\" -I "C:\Texas          /
//                          Instruments\ZStack-CC2530-2.2.2-1.3.0\Projects\zs /
//                          tack\Samples\WSN_sensors\CC2530DB\..\..\..\..\..\ /
//                          COMPONENTS\MAC\INCLUDE\" -I "C:\Texas             /
//                          Instruments\ZStack-CC2530-2.2.2-1.3.0\Projects\zs /
//                          tack\Samples\WSN_sensors\CC2530DB\..\..\..\..\..\ /
//                          COMPONENTS\MAC\HIGH_LEVEL\" -I "C:\Texas          /
//                          Instruments\ZStack-CC2530-2.2.2-1.3.0\Projects\zs /
//                          tack\Samples\WSN_sensors\CC2530DB\..\..\..\..\..\ /
//                          COMPONENTS\MAC\LOW_LEVEL\srf04\" -I "C:\Texas     /
//                          Instruments\ZStack-CC2530-2.2.2-1.3.0\Projects\zs /
//                          tack\Samples\WSN_sensors\CC2530DB\..\..\..\..\..\ /
//                          COMPONENTS\MAC\LOW_LEVEL\srf04\SINGLE_CHIP\" -I   /
//                          "D:\Program Files\IAR Systems\Embedded Workbench  /
//                          5.3\8051\INC\" -I "D:\Program Files\IAR           /
//                          Systems\Embedded Workbench 5.3\8051\INC\CLIB\"    /
//                          -Om                                               /
//    List file          =  C:\Texas Instruments\ZStack-CC2530-2.2.2-1.3.0\Pr /
//                          ojects\zstack\Samples\WSN_sensors\CC2530DB\Router /
//                          EB\List\MT_ZDO.s51                                /
//                                                                            /
//                                                                            /
///////////////////////////////////////////////////////////////////////////////

        NAME MT_ZDO

        RTMODEL "__calling_convention", "xdata_reentrant"
        RTMODEL "__code_model", "banked"
        RTMODEL "__core", "plain"
        RTMODEL "__data_model", "large"
        RTMODEL "__dptr_size", "16"
        RTMODEL "__extended_stack", "disabled"
        RTMODEL "__location_for_constants", "data"
        RTMODEL "__number_of_dptrs", "1"
        RTMODEL "__rt_version", "1"

        RSEG DOVERLAY:DATA:NOROOT(0)
        RSEG IOVERLAY:IDATA:NOROOT(0)
        RSEG ISTACK:IDATA:NOROOT(0)
        RSEG PSTACK:XDATA:NOROOT(0)
        RSEG XSTACK:XDATA:NOROOT(0)

        EXTERN ??MT_ZdoActiveEpRequest?relay
        EXTERN ??MT_ZdoBindRequest?relay
        EXTERN ??MT_ZdoComplexDescRequest?relay
        EXTERN ??MT_ZdoEndDevAnnce?relay
        EXTERN ??MT_ZdoEndDevBindRequest?relay
        EXTERN ??MT_ZdoIEEEAddrRequest?relay
        EXTERN ??MT_ZdoMatchDescRequest?relay
        EXTERN ??MT_ZdoNWKAddressRequest?relay
        EXTERN ??MT_ZdoNodeDescRequest?relay
        EXTERN ??MT_ZdoPowerDescRequest?relay
        EXTERN ??MT_ZdoServiceDiscRequest?relay
        EXTERN ??MT_ZdoSimpleDescRequest?relay
        EXTERN ??MT_ZdoStartupFromApp?relay
        EXTERN ??MT_ZdoUnbindRequest?relay
        EXTERN ??MT_ZdoUserDescRequest?relay
        EXTERN ??MT_ZdoUserDescSet?relay
        EXTERN ?ALLOC_XSTACK8
        EXTERN ?BANKED_ENTER_XDATA
        EXTERN ?BANKED_LEAVE_XDATA
        EXTERN ?BDISPATCH
        EXTERN ?DEALLOC_XSTACK8
        EXTERN ?PUSH_XSTACK_I_ONE
        EXTERN ?PUSH_XSTACK_I_THREE
        EXTERN ?PUSH_XSTACK_I_TWO
        EXTERN ?UC_SWITCH_SPARSE
        EXTERN ?V0
        EXTERN ?XSP
        EXTERN ?XSTACK_DISP0_8
        EXTERN __INIT_XDATA_Z

        PUBLIC ??MT_ZdoActiveEpRequest?relay
        FUNCTION ??MT_ZdoActiveEpRequest?relay,0203H
        PUBLIC ??MT_ZdoBindRequest?relay
        FUNCTION ??MT_ZdoBindRequest?relay,0203H
        PUBLIC ??MT_ZdoCommandProcessing?relay
        FUNCTION ??MT_ZdoCommandProcessing?relay,0203H
        PUBLIC ??MT_ZdoComplexDescRequest?relay
        FUNCTION ??MT_ZdoComplexDescRequest?relay,0203H
        PUBLIC ??MT_ZdoEndDevAnnce?relay
        FUNCTION ??MT_ZdoEndDevAnnce?relay,0203H
        PUBLIC ??MT_ZdoEndDevBindRequest?relay
        FUNCTION ??MT_ZdoEndDevBindRequest?relay,0203H
        PUBLIC ??MT_ZdoIEEEAddrRequest?relay
        FUNCTION ??MT_ZdoIEEEAddrRequest?relay,0203H
        PUBLIC ??MT_ZdoMatchDescRequest?relay
        FUNCTION ??MT_ZdoMatchDescRequest?relay,0203H
        PUBLIC ??MT_ZdoNWKAddressRequest?relay
        FUNCTION ??MT_ZdoNWKAddressRequest?relay,0203H
        PUBLIC ??MT_ZdoNodeDescRequest?relay
        FUNCTION ??MT_ZdoNodeDescRequest?relay,0203H
        PUBLIC ??MT_ZdoPowerDescRequest?relay
        FUNCTION ??MT_ZdoPowerDescRequest?relay,0203H
        PUBLIC ??MT_ZdoServiceDiscRequest?relay
        FUNCTION ??MT_ZdoServiceDiscRequest?relay,0203H
        PUBLIC ??MT_ZdoSimpleDescRequest?relay
        FUNCTION ??MT_ZdoSimpleDescRequest?relay,0203H
        PUBLIC ??MT_ZdoStartupFromApp?relay
        FUNCTION ??MT_ZdoStartupFromApp?relay,0203H
        PUBLIC ??MT_ZdoUnbindRequest?relay
        FUNCTION ??MT_ZdoUnbindRequest?relay,0203H
        PUBLIC ??MT_ZdoUserDescRequest?relay
        FUNCTION ??MT_ZdoUserDescRequest?relay,0203H
        PUBLIC ??MT_ZdoUserDescSet?relay
        FUNCTION ??MT_ZdoUserDescSet?relay,0203H
        PUBLIC MT_ZdoActiveEpRequest
        FUNCTION MT_ZdoActiveEpRequest,021203H
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 20, STACK
        PUBLIC MT_ZdoBindRequest
        FUNCTION MT_ZdoBindRequest,021203H
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 43, STACK
        PUBLIC MT_ZdoCommandProcessing
        FUNCTION MT_ZdoCommandProcessing,0a1203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        PUBLIC MT_ZdoComplexDescRequest
        FUNCTION MT_ZdoComplexDescRequest,021203H
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 20, STACK
        PUBLIC MT_ZdoEndDevAnnce
        FUNCTION MT_ZdoEndDevAnnce,021203H
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 11, STACK
        PUBLIC MT_ZdoEndDevBindRequest
        FUNCTION MT_ZdoEndDevBindRequest,021203H
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 94, STACK
        PUBLIC MT_ZdoIEEEAddrRequest
        FUNCTION MT_ZdoIEEEAddrRequest,021203H
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 10, STACK
        PUBLIC MT_ZdoMatchDescRequest
        FUNCTION MT_ZdoMatchDescRequest,021203H
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 96, STACK
        PUBLIC MT_ZdoNWKAddressRequest
        FUNCTION MT_ZdoNWKAddressRequest,021203H
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 11, STACK
        PUBLIC MT_ZdoNodeDescRequest
        FUNCTION MT_ZdoNodeDescRequest,021203H
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 20, STACK
        PUBLIC MT_ZdoPowerDescRequest
        FUNCTION MT_ZdoPowerDescRequest,021203H
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 20, STACK
        PUBLIC MT_ZdoServiceDiscRequest
        FUNCTION MT_ZdoServiceDiscRequest,021203H
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 10, STACK
        PUBLIC MT_ZdoSimpleDescRequest
        FUNCTION MT_ZdoSimpleDescRequest,021203H
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 20, STACK
        PUBLIC MT_ZdoStartupFromApp
        FUNCTION MT_ZdoStartupFromApp,021203H
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 10, STACK
        PUBLIC MT_ZdoUnbindRequest
        FUNCTION MT_ZdoUnbindRequest,021203H
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 43, STACK
        PUBLIC MT_ZdoUserDescRequest
        FUNCTION MT_ZdoUserDescRequest,021203H
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 20, STACK
        PUBLIC MT_ZdoUserDescSet
        FUNCTION MT_ZdoUserDescSet,021203H
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 42, STACK
        PUBLIC _zdoCallbackSub
        PUBLIC mtzdoResponseBuffer
        
        CFI Names cfiNames0
        CFI StackFrame CFA_SP SP IDATA
        CFI StackFrame CFA_PSP16 PSP16 XDATA
        CFI StackFrame CFA_XSP16 XSP16 XDATA
        CFI StaticOverlayFrame CFA_IOVERLAY IOVERLAY
        CFI StaticOverlayFrame CFA_DOVERLAY DOVERLAY
        CFI Resource `PSW.CY`:1, `B.BR0`:1, `B.BR1`:1, `B.BR2`:1, `B.BR3`:1
        CFI Resource `B.BR4`:1, `B.BR5`:1, `B.BR6`:1, `B.BR7`:1, `VB.BR8`:1
        CFI Resource `VB.BR9`:1, `VB.BR10`:1, `VB.BR11`:1, `VB.BR12`:1
        CFI Resource `VB.BR13`:1, `VB.BR14`:1, `VB.BR15`:1, VB:8, B:8, A:8
        CFI Resource PSW:8, DPL0:8, DPH0:8, R0:8, R1:8, R2:8, R3:8, R4:8, R5:8
        CFI Resource R6:8, R7:8, V0:8, V1:8, V2:8, V3:8, V4:8, V5:8, V6:8, V7:8
        CFI Resource SP:8, PSPH:8, PSPL:8, PSP16:16, XSPH:8, XSPL:8, XSP16:16
        CFI VirtualResource ?RET:24
        CFI Resource ?BRET_EXT:8
        CFI VirtualResource ?RET_HIGH:8, ?RET_LOW:8
        CFI ResourceParts PSP16 PSPH, PSPL
        CFI ResourceParts XSP16 XSPH, XSPL
        CFI ResourceParts ?RET ?BRET_EXT, ?RET_HIGH, ?RET_LOW
        CFI EndNames cfiNames0
        
        CFI Common cfiCommon0 Using cfiNames0
        CFI CodeAlign 1
        CFI DataAlign -1
        CFI ReturnAddress ?RET CODE
        CFI CFA_DOVERLAY Used
        CFI CFA_IOVERLAY Used
        CFI CFA_SP SP+-3
        CFI CFA_PSP16 PSP16+0
        CFI CFA_XSP16 XSP16+0
        CFI `PSW.CY` SameValue
        CFI `B.BR0` SameValue
        CFI `B.BR1` SameValue
        CFI `B.BR2` SameValue
        CFI `B.BR3` SameValue
        CFI `B.BR4` SameValue
        CFI `B.BR5` SameValue
        CFI `B.BR6` SameValue
        CFI `B.BR7` SameValue
        CFI `VB.BR8` SameValue
        CFI `VB.BR9` SameValue
        CFI `VB.BR10` SameValue
        CFI `VB.BR11` SameValue
        CFI `VB.BR12` SameValue
        CFI `VB.BR13` SameValue
        CFI `VB.BR14` SameValue
        CFI `VB.BR15` SameValue
        CFI VB SameValue
        CFI B Undefined
        CFI A Undefined
        CFI PSW SameValue
        CFI DPL0 SameValue
        CFI DPH0 SameValue
        CFI R0 Undefined
        CFI R1 Undefined
        CFI R2 Undefined
        CFI R3 Undefined
        CFI R4 Undefined
        CFI R5 Undefined
        CFI R6 SameValue
        CFI R7 SameValue
        CFI V0 SameValue
        CFI V1 SameValue
        CFI V2 SameValue
        CFI V3 SameValue
        CFI V4 SameValue
        CFI V5 SameValue
        CFI V6 SameValue
        CFI V7 SameValue
        CFI PSPH Undefined
        CFI PSPL Undefined
        CFI XSPH Undefined
        CFI XSPL Undefined
        CFI ?RET Concat
        CFI ?BRET_EXT Frame(CFA_SP, 3)
        CFI ?RET_HIGH Frame(CFA_SP, 2)
        CFI ?RET_LOW Frame(CFA_SP, 1)
        CFI EndCommon cfiCommon0
        
ZDP_NwkAddrReq      SYMBOL "ZDP_NwkAddrReq"
MT_BuildAndSendZToolResponse SYMBOL "MT_BuildAndSendZToolResponse"
ZDP_IEEEAddrReq     SYMBOL "ZDP_IEEEAddrReq"
ZDP_NWKAddrOfInterestReq SYMBOL "ZDP_NWKAddrOfInterestReq"
ZDP_SimpleDescReq   SYMBOL "ZDP_SimpleDescReq"
ZDP_MatchDescReq    SYMBOL "ZDP_MatchDescReq"
ZDP_DeviceAnnce     SYMBOL "ZDP_DeviceAnnce"
osal_memcpy         SYMBOL "osal_memcpy"
ZDP_UserDescSet     SYMBOL "ZDP_UserDescSet"
ZDP_ServerDiscReq   SYMBOL "ZDP_ServerDiscReq"
ZDP_EndDeviceBindReq SYMBOL "ZDP_EndDeviceBindReq"
sAddrExtCpy         SYMBOL "sAddrExtCpy"
ZDP_BindUnbindReq   SYMBOL "ZDP_BindUnbindReq"
ZDOInitDevice       SYMBOL "ZDOInitDevice"
??MT_BuildAndSendZToolResponse?relay SYMBOL "?relay", MT_BuildAndSendZToolResponse
??ZDOInitDevice?relay SYMBOL "?relay", ZDOInitDevice
??ZDP_BindUnbindReq?relay SYMBOL "?relay", ZDP_BindUnbindReq
??ZDP_DeviceAnnce?relay SYMBOL "?relay", ZDP_DeviceAnnce
??ZDP_EndDeviceBindReq?relay SYMBOL "?relay", ZDP_EndDeviceBindReq
??ZDP_IEEEAddrReq?relay SYMBOL "?relay", ZDP_IEEEAddrReq
??ZDP_MatchDescReq?relay SYMBOL "?relay", ZDP_MatchDescReq
??ZDP_NWKAddrOfInterestReq?relay SYMBOL "?relay", ZDP_NWKAddrOfInterestReq
??ZDP_NwkAddrReq?relay SYMBOL "?relay", ZDP_NwkAddrReq
??ZDP_ServerDiscReq?relay SYMBOL "?relay", ZDP_ServerDiscReq
??ZDP_SimpleDescReq?relay SYMBOL "?relay", ZDP_SimpleDescReq
??ZDP_UserDescSet?relay SYMBOL "?relay", ZDP_UserDescSet
??osal_memcpy?relay SYMBOL "?relay", osal_memcpy
??sAddrExtCpy?relay SYMBOL "?relay", sAddrExtCpy
MT_ZdoActiveEpRequest SYMBOL "MT_ZdoActiveEpRequest"
??MT_ZdoActiveEpRequest?relay SYMBOL "?relay", MT_ZdoActiveEpRequest
MT_ZdoBindRequest   SYMBOL "MT_ZdoBindRequest"
??MT_ZdoBindRequest?relay SYMBOL "?relay", MT_ZdoBindRequest
MT_ZdoCommandProcessing SYMBOL "MT_ZdoCommandProcessing"
??MT_ZdoCommandProcessing?relay SYMBOL "?relay", MT_ZdoCommandProcessing
MT_ZdoComplexDescRequest SYMBOL "MT_ZdoComplexDescRequest"
??MT_ZdoComplexDescRequest?relay SYMBOL "?relay", MT_ZdoComplexDescRequest
MT_ZdoEndDevAnnce   SYMBOL "MT_ZdoEndDevAnnce"
??MT_ZdoEndDevAnnce?relay SYMBOL "?relay", MT_ZdoEndDevAnnce
MT_ZdoEndDevBindRequest SYMBOL "MT_ZdoEndDevBindRequest"
??MT_ZdoEndDevBindRequest?relay SYMBOL "?relay", MT_ZdoEndDevBindRequest
MT_ZdoIEEEAddrRequest SYMBOL "MT_ZdoIEEEAddrRequest"
??MT_ZdoIEEEAddrRequest?relay SYMBOL "?relay", MT_ZdoIEEEAddrRequest
MT_ZdoMatchDescRequest SYMBOL "MT_ZdoMatchDescRequest"
??MT_ZdoMatchDescRequest?relay SYMBOL "?relay", MT_ZdoMatchDescRequest
MT_ZdoNWKAddressRequest SYMBOL "MT_ZdoNWKAddressRequest"
??MT_ZdoNWKAddressRequest?relay SYMBOL "?relay", MT_ZdoNWKAddressRequest
MT_ZdoNodeDescRequest SYMBOL "MT_ZdoNodeDescRequest"
??MT_ZdoNodeDescRequest?relay SYMBOL "?relay", MT_ZdoNodeDescRequest
MT_ZdoPowerDescRequest SYMBOL "MT_ZdoPowerDescRequest"
??MT_ZdoPowerDescRequest?relay SYMBOL "?relay", MT_ZdoPowerDescRequest
MT_ZdoServiceDiscRequest SYMBOL "MT_ZdoServiceDiscRequest"
??MT_ZdoServiceDiscRequest?relay SYMBOL "?relay", MT_ZdoServiceDiscRequest
MT_ZdoSimpleDescRequest SYMBOL "MT_ZdoSimpleDescRequest"
??MT_ZdoSimpleDescRequest?relay SYMBOL "?relay", MT_ZdoSimpleDescRequest
MT_ZdoStartupFromApp SYMBOL "MT_ZdoStartupFromApp"
??MT_ZdoStartupFromApp?relay SYMBOL "?relay", MT_ZdoStartupFromApp
MT_ZdoUnbindRequest SYMBOL "MT_ZdoUnbindRequest"
??MT_ZdoUnbindRequest?relay SYMBOL "?relay", MT_ZdoUnbindRequest
MT_ZdoUserDescRequest SYMBOL "MT_ZdoUserDescRequest"
??MT_ZdoUserDescRequest?relay SYMBOL "?relay", MT_ZdoUserDescRequest
MT_ZdoUserDescSet   SYMBOL "MT_ZdoUserDescSet"
??MT_ZdoUserDescSet?relay SYMBOL "?relay", MT_ZdoUserDescSet

        EXTERN ZDP_NwkAddrReq
        FUNCTION ZDP_NwkAddrReq,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 11, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN MT_BuildAndSendZToolResponse
        FUNCTION MT_BuildAndSendZToolResponse,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 88, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN ZDP_IEEEAddrReq
        FUNCTION ZDP_IEEEAddrReq,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 10, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN ZDP_NWKAddrOfInterestReq
        FUNCTION ZDP_NWKAddrOfInterestReq,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 20, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN ZDP_SimpleDescReq
        FUNCTION ZDP_SimpleDescReq,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 20, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN ZDP_MatchDescReq
        FUNCTION ZDP_MatchDescReq,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 96, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN ZDP_DeviceAnnce
        FUNCTION ZDP_DeviceAnnce,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 11, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN osal_memcpy
        FUNCTION osal_memcpy,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 42, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN ZDP_UserDescSet
        FUNCTION ZDP_UserDescSet,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 41, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN ZDP_ServerDiscReq
        FUNCTION ZDP_ServerDiscReq,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 10, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN ZDP_EndDeviceBindReq
        FUNCTION ZDP_EndDeviceBindReq,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 94, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN sAddrExtCpy
        FUNCTION sAddrExtCpy,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 35, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN ZDP_BindUnbindReq
        FUNCTION ZDP_BindUnbindReq,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 43, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN ZDOInitDevice
        FUNCTION ZDOInitDevice,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 10, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN ??MT_BuildAndSendZToolResponse?relay
        FUNCTION ??MT_BuildAndSendZToolResponse?relay,00H
        EXTERN ??ZDOInitDevice?relay
        FUNCTION ??ZDOInitDevice?relay,00H
        EXTERN ??ZDP_BindUnbindReq?relay
        FUNCTION ??ZDP_BindUnbindReq?relay,00H
        EXTERN ??ZDP_DeviceAnnce?relay
        FUNCTION ??ZDP_DeviceAnnce?relay,00H
        EXTERN ??ZDP_EndDeviceBindReq?relay
        FUNCTION ??ZDP_EndDeviceBindReq?relay,00H
        EXTERN ??ZDP_IEEEAddrReq?relay
        FUNCTION ??ZDP_IEEEAddrReq?relay,00H
        EXTERN ??ZDP_MatchDescReq?relay
        FUNCTION ??ZDP_MatchDescReq?relay,00H
        EXTERN ??ZDP_NWKAddrOfInterestReq?relay
        FUNCTION ??ZDP_NWKAddrOfInterestReq?relay,00H
        EXTERN ??ZDP_NwkAddrReq?relay
        FUNCTION ??ZDP_NwkAddrReq?relay,00H
        EXTERN ??ZDP_ServerDiscReq?relay
        FUNCTION ??ZDP_ServerDiscReq?relay,00H
        EXTERN ??ZDP_SimpleDescReq?relay
        FUNCTION ??ZDP_SimpleDescReq?relay,00H
        EXTERN ??ZDP_UserDescSet?relay
        FUNCTION ??ZDP_UserDescSet?relay,00H
        EXTERN ??osal_memcpy?relay
        FUNCTION ??osal_memcpy?relay,00H
        EXTERN ??sAddrExtCpy?relay
        FUNCTION ??sAddrExtCpy?relay,00H

// C:\Texas Instruments\ZStack-CC2530-2.2.2-1.3.0\Components\mt\MT_ZDO.c
//    1 /**************************************************************************************************
//    2   Filename:       MT_ZDO.c
//    3   Revised:        $Date: 2009-08-03 14:20:19 -0700 (Mon, 03 Aug 2009) $
//    4   Revision:       $Revision: 20438 $
//    5 
//    6   Description:    MonitorTest functions for the ZDO layer.
//    7 
//    8 
//    9   Copyright 2004-2007 Texas Instruments Incorporated. All rights reserved.
//   10 
//   11   IMPORTANT: Your use of this Software is limited to those specific rights
//   12   granted under the terms of a software license agreement between the user
//   13   who downloaded the software, his/her employer (which must be your employer)
//   14   and Texas Instruments Incorporated (the "License").  You may not use this
//   15   Software unless you agree to abide by the terms of the License. The License
//   16   limits your use, and you acknowledge, that the Software may not be modified,
//   17   copied or distributed unless embedded on a Texas Instruments microcontroller
//   18   or used solely and exclusively in conjunction with a Texas Instruments radio
//   19   frequency transceiver, which is integrated into your product.  Other than for
//   20   the foregoing purpose, you may not use, reproduce, copy, prepare derivative
//   21   works of, modify, distribute, perform, display or sell this Software and/or
//   22   its documentation for any purpose.
//   23 
//   24   YOU FURTHER ACKNOWLEDGE AND AGREE THAT THE SOFTWARE AND DOCUMENTATION ARE
//   25   PROVIDED “AS IS” WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED,
//   26   INCLUDING WITHOUT LIMITATION, ANY WARRANTY OF MERCHANTABILITY, TITLE,
//   27   NON-INFRINGEMENT AND FITNESS FOR A PARTICULAR PURPOSE. IN NO EVENT SHALL
//   28   TEXAS INSTRUMENTS OR ITS LICENSORS BE LIABLE OR OBLIGATED UNDER CONTRACT,
//   29   NEGLIGENCE, STRICT LIABILITY, CONTRIBUTION, BREACH OF WARRANTY, OR OTHER
//   30   LEGAL EQUITABLE THEORY ANY DIRECT OR INDIRECT DAMAGES OR EXPENSES
//   31   INCLUDING BUT NOT LIMITED TO ANY INCIDENTAL, SPECIAL, INDIRECT, PUNITIVE
//   32   OR CONSEQUENTIAL DAMAGES, LOST PROFITS OR LOST DATA, COST OF PROCUREMENT
//   33   OF SUBSTITUTE GOODS, TECHNOLOGY, SERVICES, OR ANY CLAIMS BY THIRD PARTIES
//   34   (INCLUDING BUT NOT LIMITED TO ANY DEFENSE THEREOF), OR OTHER SIMILAR COSTS.
//   35 
//   36   Should you have any questions regarding your right to use this Software,
//   37   contact Texas Instruments Incorporated at www.TI.com.
//   38 **************************************************************************************************/
//   39 
//   40 #ifdef MT_ZDO_FUNC
//   41 
//   42 /**************************************************************************************************
//   43  * INCLUDES
//   44  **************************************************************************************************/
//   45 #include "ZComDef.h"
//   46 #include "OSAL.h"
//   47 #include "MT.h"
//   48 #include "MT_ZDO.h"
//   49 #include "APSMEDE.h"
//   50 #include "ZDConfig.h"
//   51 #include "ZDProfile.h"
//   52 #include "ZDObject.h"
//   53 #include "ZDApp.h"
//   54 
//   55 #if !defined( WIN32 )
//   56   #include "OnBoard.h"
//   57 #endif
//   58 
//   59 #include "nwk_util.h"
//   60 
//   61 /**************************************************************************************************
//   62  * CONSTANTS
//   63  **************************************************************************************************/
//   64 #define MT_ZDO_END_DEVICE_ANNCE_IND_LEN   0x0D
//   65 #define MT_ZDO_ADDR_RSP_LEN               0x0D
//   66 #define MT_ZDO_BIND_UNBIND_RSP_LEN        0x03
//   67 
//   68 #define MTZDO_RESPONSE_BUFFER_LEN   100
//   69 
//   70 #define MTZDO_MAX_MATCH_CLUSTERS    16
//   71 #define MTZDO_MAX_ED_BIND_CLUSTERS  15
//   72 
//   73 /**************************************************************************************************
//   74  * GLOBAL VARIABLES
//   75  **************************************************************************************************/

        RSEG XDATA_Z:XDATA:NOROOT(0)
//   76 uint32 _zdoCallbackSub;
_zdoCallbackSub:
        DS 4
        REQUIRE __INIT_XDATA_Z
//   77 
//   78 /**************************************************************************************************
//   79  * LOCAL VARIABLES
//   80  **************************************************************************************************/

        RSEG XDATA_Z:XDATA:NOROOT(0)
//   81 uint8 mtzdoResponseBuffer[MTZDO_RESPONSE_BUFFER_LEN];
mtzdoResponseBuffer:
        DS 100
        REQUIRE __INIT_XDATA_Z
//   82 
//   83 /**************************************************************************************************
//   84  * LOCAL FUNCTIONS
//   85  **************************************************************************************************/
//   86 #if defined (MT_ZDO_FUNC)
//   87 void MT_ZdoNWKAddressRequest(uint8 *pBuf);
//   88 void MT_ZdoIEEEAddrRequest(uint8 *pBuf);
//   89 void MT_ZdoNodeDescRequest(uint8 *pBuf);
//   90 void MT_ZdoPowerDescRequest(uint8 *pBuf);
//   91 void MT_ZdoSimpleDescRequest(uint8 *pBuf);
//   92 void MT_ZdoActiveEpRequest(uint8 *pBuf);
//   93 void MT_ZdoMatchDescRequest(uint8 *pBuf);
//   94 void MT_ZdoComplexDescRequest(uint8 *pBuf);
//   95 void MT_ZdoUserDescRequest(uint8 *pBuf);
//   96 void MT_ZdoEndDevAnnce(uint8 *pBuf);
//   97 void MT_ZdoUserDescSet(uint8 *pBuf);
//   98 void MT_ZdoServiceDiscRequest(uint8 *pBuf);
//   99 void MT_ZdoEndDevBindRequest(uint8 *pBuf);
//  100 void MT_ZdoBindRequest(uint8 *pBuf);
//  101 void MT_ZdoUnbindRequest(uint8 *pBuf);
//  102 void MT_ZdoMgmtNwkDiscRequest(uint8 *pBuf);
//  103 void MT_ZdoStartupFromApp(uint8 *pBuf);
//  104 #if defined (MT_ZDO_MGMT)
//  105 void MT_ZdoMgmtLqiRequest(uint8 *pBuf);
//  106 void MT_ZdoMgmtRtgRequest(uint8 *pBuf);
//  107 void MT_ZdoMgmtBindRequest(uint8 *pBuf);
//  108 void MT_ZdoMgmtLeaveRequest(uint8 *pBuf);
//  109 void MT_ZdoMgmtDirectJoinRequest(uint8 *pBuf);
//  110 void MT_ZdoMgmtPermitJoinRequest(uint8 *pBuf);
//  111 void MT_ZdoMgmtNwkUpdateRequest(uint8 *pBuf);
//  112 #endif /* MT_ZDO_MGMT */
//  113 #endif /* MT_ZDO_FUNC */
//  114 
//  115 #if defined (MT_ZDO_CB_FUNC)
//  116 uint8 MT_ZdoHandleExceptions( afIncomingMSGPacket_t *pData, zdoIncomingMsg_t *inMsg );
//  117 void MT_ZdoAddrRspCB( ZDO_NwkIEEEAddrResp_t *pMsg, uint16 clusterID );
//  118 void MT_ZdoEndDevAnnceCB( ZDO_DeviceAnnce_t *pMsg, uint16 srcAddr );
//  119 void MT_ZdoBindUnbindRspCB( uint16 clusterID, uint16 srcAddr, uint8 status );
//  120 
//  121 /* ZDO cluster ID to MT response command ID lookup */
//  122 static const uint8 CODE mtZdoCluster2Rsp[4][7] =
//  123 {
//  124   {
//  125     MT_ZDO_NWK_ADDR_RSP,         /* NWK_addr_req */
//  126     MT_ZDO_IEEE_ADDR_RSP,        /* IEEE_addr_req */
//  127     MT_ZDO_NODE_DESC_RSP,        /* Node_Desc_req */
//  128     MT_ZDO_POWER_DESC_RSP,       /* Power_Desc_req */
//  129     MT_ZDO_SIMPLE_DESC_RSP,      /* Simple_Desc_req */
//  130     MT_ZDO_ACTIVE_EP_RSP,        /* Active_EP_req */
//  131     MT_ZDO_MATCH_DESC_RSP        /* Match_Desc_req */
//  132   },
//  133   {
//  134     MT_ZDO_COMPLEX_DESC_RSP,     /* Complex_Desc_req */
//  135     MT_ZDO_USER_DESC_RSP,        /* User_Desc_req */
//  136     0,                           /* Discovery_Cache_req */
//  137     0,                           /* End_Device_annce */
//  138     MT_ZDO_USER_DESC_CONF,       /* User_Desc_set */
//  139     MT_ZDO_SERVER_DISC_RSP,      /* Server_Discovery_req */
//  140     0
//  141   },
//  142   {
//  143     MT_ZDO_END_DEVICE_BIND_RSP,  /* End_Device_Bind_req */
//  144     MT_ZDO_BIND_RSP,             /* Bind_req */
//  145     MT_ZDO_UNBIND_RSP,           /* Unbind_req */
//  146     0,
//  147     0,
//  148     0,
//  149     MT_ZDO_STATUS_ERROR_RSP      /* default error status msg */
//  150   },
//  151   {
//  152     MT_ZDO_MGMT_NWK_DISC_RSP,    /* Mgmt_NWK_Disc_req */
//  153     MT_ZDO_MGMT_LQI_RSP,         /* Mgmt_Lqi_req */
//  154     MT_ZDO_MGMT_RTG_RSP,         /* Mgmt_Rtg_req */
//  155     MT_ZDO_MGMT_BIND_RSP,        /* Mgmt_Bind_req */
//  156     MT_ZDO_MGMT_LEAVE_RSP,       /* Mgmt_Leave_req */
//  157     MT_ZDO_MGMT_DIRECT_JOIN_RSP, /* Mgmt_Direct_Join_req */
//  158     MT_ZDO_MGMT_PERMIT_JOIN_RSP  /* Mgmt_Permit_Join_req */
//  159   }
//  160 };
//  161 #endif /* MT_ZDO_CB_FUNC */
//  162 
//  163 #if defined (MT_ZDO_FUNC)
//  164 /***************************************************************************************************
//  165  * @fn      MT_ZdoCommandProcessing
//  166  *
//  167  * @brief
//  168  *
//  169  *   Process all the ZDO commands that are issued by test tool
//  170  *
//  171  * @param   pBuf - pointer to the msg buffer
//  172  *
//  173  *          | LEN  | CMD0  | CMD1  |  DATA  |
//  174  *          |  1   |   1   |   1   |  0-255 |
//  175  *
//  176  * @return  status
//  177  ***************************************************************************************************/

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  178 uint8 MT_ZdoCommandProcessing(uint8* pBuf)
MT_ZdoCommandProcessing:
        CFI Block cfiBlock0 Using cfiCommon0
        CFI Function MT_ZdoCommandProcessing
//  179 {
        FUNCALL MT_ZdoCommandProcessing, MT_ZdoNWKAddressRequest
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL MT_ZdoCommandProcessing, MT_ZdoIEEEAddrRequest
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL MT_ZdoCommandProcessing, MT_ZdoNodeDescRequest
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL MT_ZdoCommandProcessing, MT_ZdoPowerDescRequest
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL MT_ZdoCommandProcessing, MT_ZdoSimpleDescRequest
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL MT_ZdoCommandProcessing, MT_ZdoActiveEpRequest
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL MT_ZdoCommandProcessing, MT_ZdoMatchDescRequest
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL MT_ZdoCommandProcessing, MT_ZdoComplexDescRequest
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL MT_ZdoCommandProcessing, MT_ZdoUserDescRequest
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL MT_ZdoCommandProcessing, MT_ZdoEndDevAnnce
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL MT_ZdoCommandProcessing, MT_ZdoUserDescSet
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL MT_ZdoCommandProcessing, MT_ZdoServiceDiscRequest
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL MT_ZdoCommandProcessing, MT_ZdoEndDevBindRequest
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL MT_ZdoCommandProcessing, MT_ZdoBindRequest
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL MT_ZdoCommandProcessing, MT_ZdoUnbindRequest
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL MT_ZdoCommandProcessing, MT_ZdoStartupFromApp
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0x9
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 9)
        ; Saved register size: 9
        ; Auto size: 0
//  180   uint8 status = MT_RPC_SUCCESS;
        MOV     R6,#0x0
//  181 
//  182   switch (pBuf[MT_RPC_POS_CMD1])
        MOV     DPL,R2
        MOV     DPH,R3
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        LCALL   ?UC_SWITCH_SPARSE
`?<Jumptable for MT_ZdoCommandProcessing>_0`:
        DATA
        DB        0
        DB        16
        DB        0
        DW        ??MT_ZdoCommandProcessing_0
        DB        1
        DW        ??MT_ZdoCommandProcessing_1
        DB        2
        DW        ??MT_ZdoCommandProcessing_2
        DB        3
        DW        ??MT_ZdoCommandProcessing_3
        DB        4
        DW        ??MT_ZdoCommandProcessing_4
        DB        5
        DW        ??MT_ZdoCommandProcessing_5
        DB        6
        DW        ??MT_ZdoCommandProcessing_6
        DB        7
        DW        ??MT_ZdoCommandProcessing_7
        DB        8
        DW        ??MT_ZdoCommandProcessing_8
        DB        10
        DW        ??MT_ZdoCommandProcessing_9
        DB        11
        DW        ??MT_ZdoCommandProcessing_10
        DB        12
        DW        ??MT_ZdoCommandProcessing_11
        DB        32
        DW        ??MT_ZdoCommandProcessing_12
        DB        33
        DW        ??MT_ZdoCommandProcessing_13
        DB        34
        DW        ??MT_ZdoCommandProcessing_14
        DB        64
        DW        ??MT_ZdoCommandProcessing_15
        DW        ??MT_ZdoCommandProcessing_16
        CODE
//  183   {
//  184 #if defined ( ZDO_NWKADDR_REQUEST )
//  185     case MT_ZDO_NWK_ADDR_REQ:
//  186       MT_ZdoNWKAddressRequest(pBuf);
??MT_ZdoCommandProcessing_0:
        ; Setup parameters for call to function MT_ZdoNWKAddressRequest
        LCALL   ??MT_ZdoNWKAddressRequest?relay
        SJMP    ??MT_ZdoCommandProcessing_17
//  187       break;
//  188 #endif
//  189 
//  190 #if defined ( ZDO_IEEEADDR_REQUEST )
//  191     case MT_ZDO_IEEE_ADDR_REQ:
//  192       MT_ZdoIEEEAddrRequest(pBuf);
??MT_ZdoCommandProcessing_1:
        ; Setup parameters for call to function MT_ZdoIEEEAddrRequest
        LCALL   ??MT_ZdoIEEEAddrRequest?relay
        SJMP    ??MT_ZdoCommandProcessing_17
//  193       break;
//  194 #endif
//  195 
//  196 #if defined ( ZDO_NODEDESC_REQUEST )
//  197     case MT_ZDO_NODE_DESC_REQ:
//  198       MT_ZdoNodeDescRequest(pBuf);
??MT_ZdoCommandProcessing_2:
        ; Setup parameters for call to function MT_ZdoNodeDescRequest
        LCALL   ??MT_ZdoNodeDescRequest?relay
        SJMP    ??MT_ZdoCommandProcessing_17
//  199       break;
//  200 #endif
//  201 
//  202 #if defined ( ZDO_POWERDESC_REQUEST )
//  203     case MT_ZDO_POWER_DESC_REQ:
//  204       MT_ZdoPowerDescRequest(pBuf);
??MT_ZdoCommandProcessing_3:
        ; Setup parameters for call to function MT_ZdoPowerDescRequest
        LCALL   ??MT_ZdoPowerDescRequest?relay
        SJMP    ??MT_ZdoCommandProcessing_17
//  205       break;
//  206 #endif
//  207 
//  208 #if defined ( ZDO_SIMPLEDESC_REQUEST )
//  209     case MT_ZDO_SIMPLE_DESC_REQ:
//  210       MT_ZdoSimpleDescRequest(pBuf);
??MT_ZdoCommandProcessing_4:
        ; Setup parameters for call to function MT_ZdoSimpleDescRequest
        LCALL   ??MT_ZdoSimpleDescRequest?relay
        SJMP    ??MT_ZdoCommandProcessing_17
//  211       break;
//  212 #endif
//  213 
//  214 #if defined ( ZDO_ACTIVEEP_REQUEST )
//  215     case MT_ZDO_ACTIVE_EP_REQ:
//  216       MT_ZdoActiveEpRequest(pBuf);
??MT_ZdoCommandProcessing_5:
        ; Setup parameters for call to function MT_ZdoActiveEpRequest
        LCALL   ??MT_ZdoActiveEpRequest?relay
        SJMP    ??MT_ZdoCommandProcessing_17
//  217       break;
//  218 #endif
//  219 
//  220 #if defined ( ZDO_MATCH_REQUEST )
//  221     case MT_ZDO_MATCH_DESC_REQ:
//  222       MT_ZdoMatchDescRequest(pBuf);
??MT_ZdoCommandProcessing_6:
        ; Setup parameters for call to function MT_ZdoMatchDescRequest
        LCALL   ??MT_ZdoMatchDescRequest?relay
        SJMP    ??MT_ZdoCommandProcessing_17
//  223       break;
//  224 #endif
//  225 
//  226 #if defined ( ZDO_COMPLEXDESC_REQUEST )
//  227     case MT_ZDO_COMPLEX_DESC_REQ:
//  228       MT_ZdoComplexDescRequest(pBuf);
??MT_ZdoCommandProcessing_7:
        ; Setup parameters for call to function MT_ZdoComplexDescRequest
        LCALL   ??MT_ZdoComplexDescRequest?relay
        SJMP    ??MT_ZdoCommandProcessing_17
//  229       break;
//  230 #endif
//  231 
//  232 #if defined ( ZDO_USERDESC_REQUEST )
//  233     case MT_ZDO_USER_DESC_REQ:
//  234       MT_ZdoUserDescRequest(pBuf);
??MT_ZdoCommandProcessing_8:
        ; Setup parameters for call to function MT_ZdoUserDescRequest
        LCALL   ??MT_ZdoUserDescRequest?relay
        SJMP    ??MT_ZdoCommandProcessing_17
//  235       break;
//  236 #endif
//  237 
//  238 #if defined ( ZDO_ENDDEVICE_ANNCE )
//  239     case MT_ZDO_END_DEV_ANNCE:
//  240       MT_ZdoEndDevAnnce(pBuf);
??MT_ZdoCommandProcessing_9:
        ; Setup parameters for call to function MT_ZdoEndDevAnnce
        LCALL   ??MT_ZdoEndDevAnnce?relay
        SJMP    ??MT_ZdoCommandProcessing_17
//  241       break;
//  242 #endif      
//  243 
//  244 #if defined ( ZDO_USERDESCSET_REQUEST )
//  245     case MT_ZDO_USER_DESC_SET:
//  246       MT_ZdoUserDescSet(pBuf);
??MT_ZdoCommandProcessing_10:
        ; Setup parameters for call to function MT_ZdoUserDescSet
        LCALL   ??MT_ZdoUserDescSet?relay
        SJMP    ??MT_ZdoCommandProcessing_17
//  247       break;
//  248 #endif
//  249 
//  250 #if defined ( ZDO_SERVERDISC_REQUEST )
//  251     case MT_ZDO_SERVICE_DISC_REQ:
//  252       MT_ZdoServiceDiscRequest(pBuf);
??MT_ZdoCommandProcessing_11:
        ; Setup parameters for call to function MT_ZdoServiceDiscRequest
        LCALL   ??MT_ZdoServiceDiscRequest?relay
        SJMP    ??MT_ZdoCommandProcessing_17
//  253       break;
//  254 #endif
//  255 
//  256 #if defined ( ZDO_ENDDEVICEBIND_REQUEST )
//  257     case MT_ZDO_END_DEV_BIND_REQ:
//  258       MT_ZdoEndDevBindRequest(pBuf);
??MT_ZdoCommandProcessing_12:
        ; Setup parameters for call to function MT_ZdoEndDevBindRequest
        LCALL   ??MT_ZdoEndDevBindRequest?relay
        SJMP    ??MT_ZdoCommandProcessing_17
//  259       break;
//  260 #endif
//  261 
//  262 #if defined ( ZDO_BIND_UNBIND_REQUEST )
//  263     case MT_ZDO_BIND_REQ:
//  264       MT_ZdoBindRequest(pBuf);
??MT_ZdoCommandProcessing_13:
        ; Setup parameters for call to function MT_ZdoBindRequest
        LCALL   ??MT_ZdoBindRequest?relay
        SJMP    ??MT_ZdoCommandProcessing_17
//  265       break;
//  266 #endif
//  267 
//  268 #if defined ( ZDO_BIND_UNBIND_REQUEST )
//  269     case MT_ZDO_UNBIND_REQ:
//  270       MT_ZdoUnbindRequest(pBuf);
??MT_ZdoCommandProcessing_14:
        ; Setup parameters for call to function MT_ZdoUnbindRequest
        LCALL   ??MT_ZdoUnbindRequest?relay
        SJMP    ??MT_ZdoCommandProcessing_17
//  271       break;
//  272 #endif
//  273 
//  274 #if defined ( ZDO_NETWORKSTART_REQUEST )
//  275     case MT_ZDO_STARTUP_FROM_APP:
//  276       MT_ZdoStartupFromApp(pBuf);
??MT_ZdoCommandProcessing_15:
        ; Setup parameters for call to function MT_ZdoStartupFromApp
        LCALL   ??MT_ZdoStartupFromApp?relay
        SJMP    ??MT_ZdoCommandProcessing_17
//  277       break;
//  278 #endif
//  279 
//  280 #if defined ( ZDO_MGMT_NWKDISC_REQUEST )
//  281     case MT_ZDO_MGMT_NWKDISC_REQ:
//  282       MT_ZdoMgmtNwkDiscRequest(pBuf);
//  283       break;
//  284 #endif
//  285 
//  286 #if defined ( ZDO_MGMT_LQI_REQUEST )
//  287     case MT_ZDO_MGMT_LQI_REQ:
//  288       MT_ZdoMgmtLqiRequest(pBuf);
//  289       break;
//  290 #endif
//  291 
//  292 #if defined ( ZDO_MGMT_RTG_REQUEST )
//  293     case MT_ZDO_MGMT_RTG_REQ:
//  294       MT_ZdoMgmtRtgRequest(pBuf);
//  295       break;
//  296 #endif
//  297 
//  298 #if defined ( ZDO_MGMT_BIND_REQUEST )
//  299     case MT_ZDO_MGMT_BIND_REQ:
//  300       MT_ZdoMgmtBindRequest(pBuf);
//  301       break;
//  302 #endif
//  303 
//  304 #if defined ( ZDO_MGMT_LEAVE_REQUEST )
//  305     case MT_ZDO_MGMT_LEAVE_REQ:
//  306       MT_ZdoMgmtLeaveRequest(pBuf);
//  307       break;
//  308 #endif
//  309 
//  310 #if defined ( ZDO_MGMT_JOINDIRECT_REQUEST )
//  311     case MT_ZDO_MGMT_DIRECT_JOIN_REQ:
//  312       MT_ZdoMgmtDirectJoinRequest(pBuf);
//  313       break;
//  314 #endif
//  315 
//  316 #if defined ( ZDO_MGMT_PERMIT_JOIN_REQUEST )
//  317     case MT_ZDO_MGMT_PERMIT_JOIN_REQ:
//  318       MT_ZdoMgmtPermitJoinRequest(pBuf);
//  319       break;
//  320 #endif
//  321 
//  322 #if defined ( ZDO_MGMT_NWKUPDATE_REQUEST )
//  323     case MT_ZDO_MGMT_NWK_UPDATE_REQ:
//  324       MT_ZdoMgmtNwkUpdateRequest(pBuf);
//  325       break;
//  326 #endif 
//  327 
//  328     default:
//  329       status = MT_RPC_ERR_COMMAND_ID;
??MT_ZdoCommandProcessing_16:
        INC     R6
        INC     R6
//  330       break;
//  331   }
//  332 
//  333   return status;
??MT_ZdoCommandProcessing_17:
        MOV     A,R6
        MOV     R1,A
        MOV     R7,#0x1
        LJMP    ?BANKED_LEAVE_XDATA
        CFI EndBlock cfiBlock0
//  334 }
//  335 
//  336 /***************************************************************************************************
//  337  * @fn      MT_ZdoNwkAddrReq
//  338  *
//  339  * @brief   Handle a nwk address request.
//  340  *
//  341  * @param   pData  - MT message data
//  342  *
//  343  * @return  void
//  344  ***************************************************************************************************/

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  345 void MT_ZdoNWKAddressRequest(uint8 *pBuf)
MT_ZdoNWKAddressRequest:
        CFI Block cfiBlock1 Using cfiCommon0
        CFI Function MT_ZdoNWKAddressRequest
//  346 {
        FUNCALL MT_ZdoNWKAddressRequest, ZDP_NwkAddrReq
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 11, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 11, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL MT_ZdoNWKAddressRequest, MT_BuildAndSendZToolResponse
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 11, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 11, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0xa
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 10)
        ; Saved register size: 10
        ; Auto size: 1
        MOV     A,#-0x1
        LCALL   ?ALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 11)
//  347   uint8 cmdId;
//  348   uint8 retValue;
//  349   uint8 reqType;
//  350   uint8 startIndex;
//  351   uint8 *pExtAddr;
//  352 
//  353   /* parse header */
//  354   cmdId = pBuf[MT_RPC_POS_CMD1];
        MOV     DPL,R2
        MOV     DPH,R3
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R6,A
//  355   pBuf += MT_RPC_FRAME_HDR_SZ;
//  356 
//  357   /* parse parameters */
//  358   pExtAddr = pBuf;
        MOV     A,R2
        ADD     A,#0x3
        MOV     ?V0 + 0,A
        MOV     A,R3
        ADDC    A,#0x0
        MOV     ?V0 + 1,A
//  359   pBuf += Z_EXTADDR_LEN;
        MOV     A,?V0 + 0
        ADD     A,#0x8
        MOV     R2,A
        MOV     A,?V0 + 1
        ADDC    A,#0x0
        MOV     R3,A
//  360 
//  361   /* Request type */
//  362   reqType = *pBuf++;
        MOV     DPL,R2
        MOV     DPH,R3
        MOVX    A,@DPTR
        MOV     R1,A
        INC     DPTR
//  363 
//  364   /* Start index */
//  365   startIndex = *pBuf;
//  366 
//  367   retValue = (uint8)ZDP_NwkAddrReq(pExtAddr, reqType, startIndex, 0);
        ; Setup parameters for call to function ZDP_NwkAddrReq
        MOV     R5,#0x0
        MOVX    A,@DPTR
        MOV     R4,A
        MOV     R2,?V0 + 0
        MOV     R3,?V0 + 1
        LCALL   ??ZDP_NwkAddrReq?relay
        MOV     A,R1
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    @DPTR,A
//  368 
//  369   /* Build and send back the response */
//  370   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_ZDO), cmdId, 1, &retValue);
        ; Setup parameters for call to function MT_BuildAndSendZToolResponse
        MOV     R4,DPL
        MOV     R5,DPH
        MOV     R3,#0x1
        MOV     A,R6
        MOV     R2,A
        MOV     R1,#0x65
        LCALL   ??MT_BuildAndSendZToolResponse?relay
//  371 }
        MOV     A,#0x1
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 10)
        MOV     R7,#0x2
        LJMP    ?BANKED_LEAVE_XDATA
        CFI EndBlock cfiBlock1
//  372 
//  373 /***************************************************************************************************
//  374  * @fn      MT_ZdoIEEEAddrRequest
//  375  *
//  376  * @brief   Handle a IEEE address request.
//  377  *
//  378  * @param   pData  - MT message data
//  379  *
//  380  * @return  void
//  381  ***************************************************************************************************/

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  382 void MT_ZdoIEEEAddrRequest (uint8 *pBuf)
MT_ZdoIEEEAddrRequest:
        CFI Block cfiBlock2 Using cfiCommon0
        CFI Function MT_ZdoIEEEAddrRequest
//  383 {
        FUNCALL MT_ZdoIEEEAddrRequest, ZDP_IEEEAddrReq
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 10, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 10, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL MT_ZdoIEEEAddrRequest, MT_BuildAndSendZToolResponse
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 10, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 10, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0x9
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 9)
        ; Saved register size: 9
        ; Auto size: 1
        MOV     A,#-0x1
        LCALL   ?ALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 10)
//  384   uint8 cmdId;
//  385   uint8 retValue;
//  386   uint16 shortAddr;
//  387   uint8 reqType;
//  388   uint8 startIndex;
//  389 
//  390   /* parse header */
//  391   cmdId = pBuf[MT_RPC_POS_CMD1];
        MOV     DPL,R2
        MOV     DPH,R3
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     ?V0 + 0,A
//  392   pBuf += MT_RPC_FRAME_HDR_SZ;
        MOV     A,R2
        ADD     A,#0x3
        INC     R2
        INC     R2
        INC     R2
        MOV     A,R3
        ADDC    A,#0x0
        MOV     R3,A
//  393 
//  394   /* Dev address */
//  395   shortAddr = BUILD_UINT16(pBuf[0], pBuf[1]);
        MOV     DPL,R2
        MOV     DPH,R3
        MOVX    A,@DPTR
        MOV     R4,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     A,R4
        MOV     R6,A
        MOV     A,R1
        MOV     R7,A
//  396   pBuf += 2;
        MOV     A,R2
        ADD     A,#0x2
        INC     R2
        INC     R2
        MOV     A,R3
        ADDC    A,#0x0
        MOV     R3,A
//  397 
//  398   /* request type */
//  399   reqType = *pBuf++;
        MOV     DPL,R2
        MOV     DPH,R3
        MOVX    A,@DPTR
        MOV     R1,A
        INC     DPTR
//  400 
//  401   /* start index */
//  402   startIndex = *pBuf;
//  403 
//  404   retValue = (uint8)ZDP_IEEEAddrReq(shortAddr, reqType, startIndex, 0);
        ; Setup parameters for call to function ZDP_IEEEAddrReq
        MOV     R5,#0x0
        MOVX    A,@DPTR
        MOV     R4,A
        MOV     A,R6
        MOV     R2,A
        MOV     A,R7
        MOV     R3,A
        LCALL   ??ZDP_IEEEAddrReq?relay
        MOV     A,R1
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    @DPTR,A
//  405 
//  406   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_ZDO), cmdId, 1, &retValue);
        ; Setup parameters for call to function MT_BuildAndSendZToolResponse
        MOV     R4,DPL
        MOV     R5,DPH
        MOV     R3,#0x1
        MOV     R2,?V0 + 0
        MOV     R1,#0x65
        LCALL   ??MT_BuildAndSendZToolResponse?relay
//  407 }
        MOV     A,#0x1
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 9)
        MOV     R7,#0x1
        LJMP    ?BANKED_LEAVE_XDATA
        CFI EndBlock cfiBlock2
//  408 
//  409 /***************************************************************************************************
//  410  * @fn      MT_ZdoNodeDescRequest
//  411  *
//  412  * @brief   Handle a Node Descriptor request.
//  413  *
//  414  * @param   pData  - MT message data
//  415  *
//  416  * @return  void
//  417  ***************************************************************************************************/

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  418 void MT_ZdoNodeDescRequest (uint8 *pBuf)
MT_ZdoNodeDescRequest:
        CFI Block cfiBlock3 Using cfiCommon0
        CFI Function MT_ZdoNodeDescRequest
//  419 {
        FUNCALL MT_ZdoNodeDescRequest, ZDP_NWKAddrOfInterestReq
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 20, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 20, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL MT_ZdoNodeDescRequest, MT_BuildAndSendZToolResponse
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 19, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 19, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0x9
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 9)
        ; Saved register size: 9
        ; Auto size: 10
        MOV     A,#-0xa
        LCALL   ?ALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 19)
//  420   uint8 cmdId;
//  421   uint8 retValue;
//  422   zAddrType_t destAddr;
//  423   uint16 shortAddr;
//  424 
//  425   /* parse header */
//  426   cmdId = pBuf[MT_RPC_POS_CMD1];
        MOV     DPL,R2
        MOV     DPH,R3
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R6,A
//  427   pBuf += MT_RPC_FRAME_HDR_SZ;
        MOV     A,R2
        ADD     A,#0x3
        INC     R2
        INC     R2
        INC     R2
        MOV     A,R3
        ADDC    A,#0x0
        MOV     R3,A
//  428 
//  429   /* Destination address */
//  430   destAddr.addrMode = Addr16Bit;
        MOV     A,#0x2
        PUSH    A
        CFI CFA_SP SP+-1
        MOV     A,#0x9
        LCALL   ?XSTACK_DISP0_8
        POP     A
        CFI CFA_SP SP+0
        MOVX    @DPTR,A
//  431   destAddr.addr.shortAddr = BUILD_UINT16( pBuf[0], pBuf[1] );
        MOV     DPL,R2
        MOV     DPH,R3
        MOVX    A,@DPTR
        MOV     R4,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     A,R4
        MOV     R0,A
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP0_8
        MOV     A,R0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R1
        MOVX    @DPTR,A
//  432   pBuf += 2;
        MOV     A,R2
        ADD     A,#0x2
        INC     R2
        INC     R2
        MOV     A,R3
        ADDC    A,#0x0
        MOV     R3,A
//  433 
//  434   /* Network address of interest */
//  435   shortAddr = BUILD_UINT16( pBuf[0], pBuf[1] );
//  436   pBuf += 2;
//  437 
//  438   retValue = (uint8)ZDP_NodeDescReq( &destAddr, shortAddr, 0);
        ; Setup parameters for call to function ZDP_NWKAddrOfInterestReq
        MOV     ?V0 + 0,#0x0
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_ONE
        CFI CFA_XSP16 add(XSP16, 20)
        MOV     R1,#0x2
        MOV     DPL,R2
        MOV     DPH,R3
        MOVX    A,@DPTR
        MOV     R4,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R5,A
        MOV     A,R1
        LCALL   ?XSTACK_DISP0_8
        MOV     R2,DPL
        MOV     R3,DPH
        LCALL   ??ZDP_NWKAddrOfInterestReq?relay
        MOV     A,#0x1
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 19)
        MOV     A,R1
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    @DPTR,A
//  439 
//  440   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_ZDO), cmdId, 1, &retValue);
        ; Setup parameters for call to function MT_BuildAndSendZToolResponse
        MOV     R4,DPL
        MOV     R5,DPH
        MOV     R3,#0x1
        MOV     A,R6
        MOV     R2,A
        MOV     R1,#0x65
        LCALL   ??MT_BuildAndSendZToolResponse?relay
//  441 }
        MOV     A,#0xa
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 9)
        MOV     R7,#0x1
        LJMP    ?BANKED_LEAVE_XDATA
        CFI EndBlock cfiBlock3
//  442 
//  443 /***************************************************************************************************
//  444  * @fn      MT_ZdoPowerDescRequest
//  445  *
//  446  * @brief   Handle a Power Descriptor request.
//  447  *
//  448  * @param   pData  - MT message data
//  449  *
//  450  * @return  void
//  451  ***************************************************************************************************/

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  452 void MT_ZdoPowerDescRequest(uint8 *pBuf)
MT_ZdoPowerDescRequest:
        CFI Block cfiBlock4 Using cfiCommon0
        CFI Function MT_ZdoPowerDescRequest
//  453 {
        FUNCALL MT_ZdoPowerDescRequest, ZDP_NWKAddrOfInterestReq
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 20, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 20, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL MT_ZdoPowerDescRequest, MT_BuildAndSendZToolResponse
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 19, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 19, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0x9
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 9)
        ; Saved register size: 9
        ; Auto size: 10
        MOV     A,#-0xa
        LCALL   ?ALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 19)
//  454   uint8 cmdId;
//  455   uint8 retValue;
//  456   zAddrType_t destAddr;
//  457   uint16 shortAddr;
//  458 
//  459   /* parse header */
//  460   cmdId = pBuf[MT_RPC_POS_CMD1];
        MOV     DPL,R2
        MOV     DPH,R3
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R6,A
//  461   pBuf += MT_RPC_FRAME_HDR_SZ;
        MOV     A,R2
        ADD     A,#0x3
        INC     R2
        INC     R2
        INC     R2
        MOV     A,R3
        ADDC    A,#0x0
        MOV     R3,A
//  462 
//  463   /* Dev address */
//  464   destAddr.addrMode = Addr16Bit;
        MOV     A,#0x2
        PUSH    A
        CFI CFA_SP SP+-1
        MOV     A,#0x9
        LCALL   ?XSTACK_DISP0_8
        POP     A
        CFI CFA_SP SP+0
        MOVX    @DPTR,A
//  465   destAddr.addr.shortAddr = BUILD_UINT16( pBuf[0], pBuf[1] );
        MOV     DPL,R2
        MOV     DPH,R3
        MOVX    A,@DPTR
        MOV     R4,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     A,R4
        MOV     R0,A
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP0_8
        MOV     A,R0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R1
        MOVX    @DPTR,A
//  466   pBuf += 2;
        MOV     A,R2
        ADD     A,#0x2
        INC     R2
        INC     R2
        MOV     A,R3
        ADDC    A,#0x0
        MOV     R3,A
//  467 
//  468   /* Network address of interest */
//  469   shortAddr = BUILD_UINT16( pBuf[0], pBuf[1] );
//  470   pBuf += 2;
//  471 
//  472   retValue = (uint8)ZDP_PowerDescReq( &destAddr, shortAddr, 0);
        ; Setup parameters for call to function ZDP_NWKAddrOfInterestReq
        MOV     ?V0 + 0,#0x0
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_ONE
        CFI CFA_XSP16 add(XSP16, 20)
        MOV     R1,#0x3
        MOV     DPL,R2
        MOV     DPH,R3
        MOVX    A,@DPTR
        MOV     R4,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R5,A
        MOV     A,#0x2
        LCALL   ?XSTACK_DISP0_8
        MOV     R2,DPL
        MOV     R3,DPH
        LCALL   ??ZDP_NWKAddrOfInterestReq?relay
        MOV     A,#0x1
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 19)
        MOV     A,R1
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    @DPTR,A
//  473 
//  474   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_ZDO), cmdId, 1, &retValue);
        ; Setup parameters for call to function MT_BuildAndSendZToolResponse
        MOV     R4,DPL
        MOV     R5,DPH
        MOV     R3,#0x1
        MOV     A,R6
        MOV     R2,A
        MOV     R1,#0x65
        LCALL   ??MT_BuildAndSendZToolResponse?relay
//  475 }
        MOV     A,#0xa
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 9)
        MOV     R7,#0x1
        LJMP    ?BANKED_LEAVE_XDATA
        CFI EndBlock cfiBlock4
//  476 
//  477 /***************************************************************************************************
//  478  * @fn      MT_ZdoSimpleDescRequest
//  479  *
//  480  * @brief   Handle a Simple Descriptor request.
//  481  *
//  482  * @param   pBuf  - MT message data
//  483  *
//  484  * @return  void
//  485  ***************************************************************************************************/

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  486 void MT_ZdoSimpleDescRequest(uint8 *pBuf)
MT_ZdoSimpleDescRequest:
        CFI Block cfiBlock5 Using cfiCommon0
        CFI Function MT_ZdoSimpleDescRequest
//  487 {
        FUNCALL MT_ZdoSimpleDescRequest, ZDP_SimpleDescReq
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 20, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 20, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL MT_ZdoSimpleDescRequest, MT_BuildAndSendZToolResponse
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 19, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 19, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0x9
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 9)
        ; Saved register size: 9
        ; Auto size: 10
        MOV     A,#-0xa
        LCALL   ?ALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 19)
//  488   uint8 cmdId;
//  489   uint8 retValue;
//  490   uint8 epInt;
//  491   zAddrType_t destAddr;
//  492   uint16 shortAddr;
//  493 
//  494   /* parse header */
//  495   cmdId = pBuf[MT_RPC_POS_CMD1];
        MOV     DPL,R2
        MOV     DPH,R3
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R6,A
//  496   pBuf += MT_RPC_FRAME_HDR_SZ;
        MOV     A,R2
        ADD     A,#0x3
        INC     R2
        INC     R2
        INC     R2
        MOV     A,R3
        ADDC    A,#0x0
        MOV     R3,A
//  497 
//  498   /* Dev address */
//  499   destAddr.addrMode = Addr16Bit;
        MOV     A,#0x2
        PUSH    A
        CFI CFA_SP SP+-1
        MOV     A,#0x9
        LCALL   ?XSTACK_DISP0_8
        POP     A
        CFI CFA_SP SP+0
        MOVX    @DPTR,A
//  500   destAddr.addr.shortAddr = BUILD_UINT16( pBuf[0], pBuf[1] );
        MOV     DPL,R2
        MOV     DPH,R3
        MOVX    A,@DPTR
        MOV     R4,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     A,R4
        MOV     R0,A
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP0_8
        MOV     A,R0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R1
        MOVX    @DPTR,A
//  501   pBuf += 2;
        MOV     A,R2
        ADD     A,#0x2
        INC     R2
        INC     R2
        MOV     A,R3
        ADDC    A,#0x0
        MOV     R3,A
//  502 
//  503   /* Network address of interest */
//  504   shortAddr = BUILD_UINT16( pBuf[0], pBuf[1] );
//  505   pBuf += 2;
//  506 
//  507   /* endpoint/interface */
//  508   epInt = *pBuf++;
//  509 
//  510   retValue = (uint8)ZDP_SimpleDescReq( &destAddr, shortAddr, epInt, 0);
        ; Setup parameters for call to function ZDP_SimpleDescReq
        MOV     ?V0 + 0,#0x0
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_ONE
        CFI CFA_XSP16 add(XSP16, 20)
        MOV     DPL,R2
        MOV     DPH,R3
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     DPL,R2
        MOV     DPH,R3
        MOVX    A,@DPTR
        MOV     R4,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R5,A
        MOV     A,#0x2
        LCALL   ?XSTACK_DISP0_8
        MOV     R2,DPL
        MOV     R3,DPH
        LCALL   ??ZDP_SimpleDescReq?relay
        MOV     A,#0x1
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 19)
        MOV     A,R1
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    @DPTR,A
//  511 
//  512   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_ZDO), cmdId, 1, &retValue);
        ; Setup parameters for call to function MT_BuildAndSendZToolResponse
        MOV     R4,DPL
        MOV     R5,DPH
        MOV     R3,#0x1
        MOV     A,R6
        MOV     R2,A
        MOV     R1,#0x65
        LCALL   ??MT_BuildAndSendZToolResponse?relay
//  513 }
        MOV     A,#0xa
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 9)
        MOV     R7,#0x1
        LJMP    ?BANKED_LEAVE_XDATA
        CFI EndBlock cfiBlock5
//  514 
//  515 /***************************************************************************************************
//  516  * @fn      MT_ZdoSimpleDescRequest
//  517  *
//  518  * @brief   Handle a Active EP request.
//  519  *
//  520  * @param   pBuf  - MT message data
//  521  *
//  522  * @return  void
//  523  ***************************************************************************************************/

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  524 void MT_ZdoActiveEpRequest(uint8 *pBuf)
MT_ZdoActiveEpRequest:
        CFI Block cfiBlock6 Using cfiCommon0
        CFI Function MT_ZdoActiveEpRequest
//  525 {
        FUNCALL MT_ZdoActiveEpRequest, ZDP_NWKAddrOfInterestReq
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 20, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 20, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL MT_ZdoActiveEpRequest, MT_BuildAndSendZToolResponse
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 19, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 19, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0x9
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 9)
        ; Saved register size: 9
        ; Auto size: 10
        MOV     A,#-0xa
        LCALL   ?ALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 19)
//  526   uint8 cmdId;
//  527   uint8 retValue;
//  528   zAddrType_t destAddr;
//  529   uint16 shortAddr;
//  530 
//  531   /* parse header */
//  532   cmdId = pBuf[MT_RPC_POS_CMD1];
        MOV     DPL,R2
        MOV     DPH,R3
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R6,A
//  533   pBuf += MT_RPC_FRAME_HDR_SZ;
        MOV     A,R2
        ADD     A,#0x3
        INC     R2
        INC     R2
        INC     R2
        MOV     A,R3
        ADDC    A,#0x0
        MOV     R3,A
//  534 
//  535   /* Dev address */
//  536   destAddr.addrMode = Addr16Bit;
        MOV     A,#0x2
        PUSH    A
        CFI CFA_SP SP+-1
        MOV     A,#0x9
        LCALL   ?XSTACK_DISP0_8
        POP     A
        CFI CFA_SP SP+0
        MOVX    @DPTR,A
//  537   destAddr.addr.shortAddr = BUILD_UINT16( pBuf[0], pBuf[1] );
        MOV     DPL,R2
        MOV     DPH,R3
        MOVX    A,@DPTR
        MOV     R4,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     A,R4
        MOV     R0,A
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP0_8
        MOV     A,R0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R1
        MOVX    @DPTR,A
//  538   pBuf += 2;
        MOV     A,R2
        ADD     A,#0x2
        INC     R2
        INC     R2
        MOV     A,R3
        ADDC    A,#0x0
        MOV     R3,A
//  539 
//  540   /* Network address of interest */
//  541   shortAddr = BUILD_UINT16( pBuf[0], pBuf[1] );
//  542   pBuf += 2;
//  543 
//  544   retValue = (uint8)ZDP_ActiveEPReq( &destAddr, shortAddr, 0);
        ; Setup parameters for call to function ZDP_NWKAddrOfInterestReq
        MOV     ?V0 + 0,#0x0
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_ONE
        CFI CFA_XSP16 add(XSP16, 20)
        MOV     R1,#0x5
        MOV     DPL,R2
        MOV     DPH,R3
        MOVX    A,@DPTR
        MOV     R4,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R5,A
        MOV     A,#0x2
        LCALL   ?XSTACK_DISP0_8
        MOV     R2,DPL
        MOV     R3,DPH
        LCALL   ??ZDP_NWKAddrOfInterestReq?relay
        MOV     A,#0x1
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 19)
        MOV     A,R1
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    @DPTR,A
//  545 
//  546   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_ZDO), cmdId, 1, &retValue);
        ; Setup parameters for call to function MT_BuildAndSendZToolResponse
        MOV     R4,DPL
        MOV     R5,DPH
        MOV     R3,#0x1
        MOV     A,R6
        MOV     R2,A
        MOV     R1,#0x65
        LCALL   ??MT_BuildAndSendZToolResponse?relay
//  547 }
        MOV     A,#0xa
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 9)
        MOV     R7,#0x1
        LJMP    ?BANKED_LEAVE_XDATA
        CFI EndBlock cfiBlock6
//  548 
//  549 /***************************************************************************************************
//  550  * @fn      MT_ZdoMatchDescRequest
//  551  *
//  552  * @brief   Handle a Match Descriptor request.
//  553  *
//  554  * @param   pBuf  - MT message data
//  555  *
//  556  * @return  void
//  557  ***************************************************************************************************/

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  558 void MT_ZdoMatchDescRequest(uint8 *pBuf)
MT_ZdoMatchDescRequest:
        CFI Block cfiBlock7 Using cfiCommon0
        CFI Function MT_ZdoMatchDescRequest
//  559 {
        FUNCALL MT_ZdoMatchDescRequest, ZDP_MatchDescReq
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 96, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 96, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL MT_ZdoMatchDescRequest, MT_BuildAndSendZToolResponse
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 88, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 88, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0xe
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-14)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 14)
        ; Saved register size: 14
        ; Auto size: 74
        MOV     A,#-0x4a
        LCALL   ?ALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 88)
//  560   uint8 cmdId;
//  561   uint8 retValue = 0;
        CLR     A
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    @DPTR,A
//  562   uint8 i, numInClusters, numOutClusters;
//  563   uint16 profileId;
//  564   zAddrType_t destAddr;
//  565   uint16 shortAddr;
//  566   uint16 inClusters[MTZDO_MAX_MATCH_CLUSTERS], outClusters[MTZDO_MAX_MATCH_CLUSTERS];
//  567 
//  568   /* parse header */
//  569   cmdId = pBuf[MT_RPC_POS_CMD1];
        MOV     DPL,R2
        MOV     DPH,R3
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R6,A
//  570   pBuf += MT_RPC_FRAME_HDR_SZ;
        MOV     A,R2
        ADD     A,#0x3
        INC     R2
        INC     R2
        INC     R2
        MOV     A,R3
        ADDC    A,#0x0
        MOV     R3,A
//  571 
//  572   /* Dev address */
//  573   destAddr.addrMode = Addr16Bit;
        MOV     A,#0x2
        PUSH    A
        CFI CFA_SP SP+-1
        MOV     A,#0x9
        LCALL   ?XSTACK_DISP0_8
        POP     A
        CFI CFA_SP SP+0
        MOVX    @DPTR,A
//  574   destAddr.addr.shortAddr = BUILD_UINT16( pBuf[0], pBuf[1] );
        MOV     DPL,R2
        MOV     DPH,R3
        MOVX    A,@DPTR
        MOV     R4,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     A,R4
        MOV     R0,A
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP0_8
        MOV     A,R0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R1
        MOVX    @DPTR,A
//  575   pBuf += 2;
        MOV     A,R2
        ADD     A,#0x2
        INC     R2
        INC     R2
        MOV     A,R3
        ADDC    A,#0x0
        MOV     R3,A
//  576 
//  577   /* Network address of interest */
//  578   shortAddr = BUILD_UINT16( pBuf[0], pBuf[1] );
        MOV     DPL,R2
        MOV     DPH,R3
        MOVX    A,@DPTR
        MOV     R4,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R5,A
//  579   pBuf += 2;
        MOV     A,R2
        ADD     A,#0x2
        INC     R2
        INC     R2
        MOV     A,R3
        ADDC    A,#0x0
        MOV     R3,A
//  580 
//  581   /* Profile ID */
//  582   profileId = BUILD_UINT16( pBuf[0], pBuf[1] );
        MOV     DPL,R2
        MOV     DPH,R3
        MOVX    A,@DPTR
        MOV     ?V0 + 0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R0,A
        CLR     A
        XCH     A,R0
        MOV     ?V0 + 1,A
//  583   pBuf += 2;
        MOV     A,R2
        ADD     A,#0x2
        INC     R2
        INC     R2
        MOV     A,R3
        ADDC    A,#0x0
        MOV     R3,A
//  584 
//  585   /* NumInClusters */
//  586   numInClusters = *pBuf++;
        MOV     DPL,R2
        MOV     DPH,R3
        MOVX    A,@DPTR
        MOV     R1,A
        INC     DPTR
        MOV     R2,DPL
        MOV     R3,DPH
//  587   if ( numInClusters <= MTZDO_MAX_MATCH_CLUSTERS )
        CLR     C
        SUBB    A,#0x11
        JNC     ??MT_ZdoMatchDescRequest_0
//  588   {
//  589     /* IN clusters */
//  590     for ( i = 0; i < numInClusters; i++ )
??MT_ZdoMatchDescRequest_1:
        MOV     A,R0
        CLR     C
        SUBB    A,R1
        JNC     ??MT_ZdoMatchDescRequest_2
//  591     {
//  592       inClusters[i] = BUILD_UINT16( pBuf[0], pBuf[1]);
        MOV     DPL,R2
        MOV     DPH,R3
        MOVX    A,@DPTR
        MOV     ?V0 + 4,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     ?V0 + 3,A
        CLR     A
        ADD     A,?V0 + 4
        MOV     A,?V0 + 3
        MOV     ?V0 + 5,A
        MOV     A,R0
        RLC     A
        MOV     ?V0 + 2,A
        CLR     A
        RLC     A
        MOV     ?V0 + 3,A
        MOV     A,#0x2a
        LCALL   ?XSTACK_DISP0_8
        MOV     A,DPL
        ADD     A,?V0 + 2
        MOV     DPL,A
        MOV     A,DPH
        ADDC    A,?V0 + 3
        MOV     DPH,A
        MOV     A,?V0 + 4
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,?V0 + 5
        MOVX    @DPTR,A
//  593       pBuf += 2;
        MOV     A,R2
        ADD     A,#0x2
        INC     R2
        INC     R2
        MOV     A,R3
        ADDC    A,#0x0
        MOV     R3,A
//  594     }
        INC     R0
        SJMP    ??MT_ZdoMatchDescRequest_1
//  595   }
//  596   else
//  597   {
//  598     retValue = ZDP_INVALID_REQTYPE;
??MT_ZdoMatchDescRequest_0:
        MOV     A,#-0x80
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    @DPTR,A
//  599   }
//  600 
//  601   /* NumOutClusters */
//  602   numOutClusters = *pBuf++;
??MT_ZdoMatchDescRequest_2:
        MOV     DPL,R2
        MOV     DPH,R3
        MOVX    A,@DPTR
        MOV     R7,A
        INC     DPTR
        MOV     R2,DPL
        MOV     R3,DPH
//  603   if ( numOutClusters <= MTZDO_MAX_MATCH_CLUSTERS )
        CLR     C
        SUBB    A,#0x11
        JNC     ??MT_ZdoMatchDescRequest_3
//  604   {
//  605     /* OUT Clusters */
//  606     for ( i = 0; i < numOutClusters; i++ )
        MOV     R0,#0x0
??MT_ZdoMatchDescRequest_4:
        MOV     A,R0
        CLR     C
        SUBB    A,R7
        JNC     ??MT_ZdoMatchDescRequest_5
//  607     {
//  608       outClusters[i] = BUILD_UINT16( pBuf[0], pBuf[1]);
        MOV     DPL,R2
        MOV     DPH,R3
        MOVX    A,@DPTR
        MOV     ?V0 + 2,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     ?V0 + 5,A
        CLR     A
        ADD     A,?V0 + 2
        MOV     ?V0 + 4,A
        MOV     A,R0
        RLC     A
        MOV     ?V0 + 2,A
        CLR     A
        RLC     A
        MOV     ?V0 + 3,A
        MOV     A,#0xa
        LCALL   ?XSTACK_DISP0_8
        MOV     A,DPL
        ADD     A,?V0 + 2
        MOV     DPL,A
        MOV     A,DPH
        ADDC    A,?V0 + 3
        MOV     DPH,A
        MOV     A,?V0 + 4
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,?V0 + 5
        MOVX    @DPTR,A
//  609       pBuf += 2;
        MOV     A,R2
        ADD     A,#0x2
        INC     R2
        INC     R2
        MOV     A,R3
        ADDC    A,#0x0
        MOV     R3,A
//  610     }
        INC     R0
        SJMP    ??MT_ZdoMatchDescRequest_4
//  611   }
//  612   else
//  613   {
//  614     retValue = ZDP_INVALID_REQTYPE;
??MT_ZdoMatchDescRequest_3:
        MOV     A,#-0x80
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    @DPTR,A
//  615   }
//  616 
//  617   if ( retValue == 0 )
??MT_ZdoMatchDescRequest_5:
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    A,@DPTR
        JNZ     ??MT_ZdoMatchDescRequest_6
//  618   {
//  619     retValue = (uint8)ZDP_MatchDescReq( &destAddr, shortAddr, profileId, numInClusters,
//  620                                        inClusters, numOutClusters, outClusters, 0);
        ; Setup parameters for call to function ZDP_MatchDescReq
        MOV     ?V0 + 2,#0x0
        MOV     R0,#?V0 + 2
        LCALL   ?PUSH_XSTACK_I_ONE
        CFI CFA_XSP16 add(XSP16, 89)
        MOV     A,#0xb
        LCALL   ?XSTACK_DISP0_8
        MOV     ?V0 + 2,DPL
        MOV     ?V0 + 3,DPH
        MOV     R0,#?V0 + 2
        LCALL   ?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 91)
        MOV     A,R7
        MOV     ?V0 + 2,A
        MOV     R0,#?V0 + 2
        LCALL   ?PUSH_XSTACK_I_ONE
        CFI CFA_XSP16 add(XSP16, 92)
        MOV     A,#0x2e
        LCALL   ?XSTACK_DISP0_8
        MOV     ?V0 + 2,DPL
        MOV     ?V0 + 3,DPH
        MOV     R0,#?V0 + 2
        LCALL   ?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 94)
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 96)
        MOV     A,#0x9
        LCALL   ?XSTACK_DISP0_8
        MOV     R2,DPL
        MOV     R3,DPH
        LCALL   ??ZDP_MatchDescReq?relay
        MOV     A,#0x8
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 88)
        MOV     A,R1
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    @DPTR,A
//  621   }
//  622 
//  623   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_ZDO), cmdId, 1, &retValue);
??MT_ZdoMatchDescRequest_6:
        ; Setup parameters for call to function MT_BuildAndSendZToolResponse
        MOV     R4,DPL
        MOV     R5,DPH
        MOV     R3,#0x1
        MOV     A,R6
        MOV     R2,A
        MOV     R1,#0x65
        LCALL   ??MT_BuildAndSendZToolResponse?relay
//  624 }
        MOV     A,#0x4a
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 14)
        MOV     R7,#0x6
        LJMP    ?BANKED_LEAVE_XDATA
        CFI EndBlock cfiBlock7
//  625 
//  626 /***************************************************************************************************
//  627  * @fn      MT_ZdoComplexDescRequest
//  628  *
//  629  * @brief   Handle a Complex Descriptor request.
//  630  *
//  631  * @param   pBuf  - MT message data
//  632  *
//  633  * @return  void
//  634  ***************************************************************************************************/

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  635 void MT_ZdoComplexDescRequest(uint8 *pBuf)
MT_ZdoComplexDescRequest:
        CFI Block cfiBlock8 Using cfiCommon0
        CFI Function MT_ZdoComplexDescRequest
//  636 {
        FUNCALL MT_ZdoComplexDescRequest, ZDP_NWKAddrOfInterestReq
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 20, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 20, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL MT_ZdoComplexDescRequest, MT_BuildAndSendZToolResponse
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 19, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 19, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0x9
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 9)
        ; Saved register size: 9
        ; Auto size: 10
        MOV     A,#-0xa
        LCALL   ?ALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 19)
//  637   uint8 cmdId;
//  638   uint8 retValue;
//  639   zAddrType_t destAddr;
//  640   uint16 shortAddr;
//  641 
//  642   /* parse header */
//  643   cmdId = pBuf[MT_RPC_POS_CMD1];
        MOV     DPL,R2
        MOV     DPH,R3
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R6,A
//  644   pBuf += MT_RPC_FRAME_HDR_SZ;
        MOV     A,R2
        ADD     A,#0x3
        INC     R2
        INC     R2
        INC     R2
        MOV     A,R3
        ADDC    A,#0x0
        MOV     R3,A
//  645 
//  646   /* Dev address */
//  647   destAddr.addrMode = Addr16Bit;
        MOV     A,#0x2
        PUSH    A
        CFI CFA_SP SP+-1
        MOV     A,#0x9
        LCALL   ?XSTACK_DISP0_8
        POP     A
        CFI CFA_SP SP+0
        MOVX    @DPTR,A
//  648   destAddr.addr.shortAddr = BUILD_UINT16( pBuf[0], pBuf[1] );
        MOV     DPL,R2
        MOV     DPH,R3
        MOVX    A,@DPTR
        MOV     R4,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     A,R4
        MOV     R0,A
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP0_8
        MOV     A,R0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R1
        MOVX    @DPTR,A
//  649   pBuf += 2;
        MOV     A,R2
        ADD     A,#0x2
        INC     R2
        INC     R2
        MOV     A,R3
        ADDC    A,#0x0
        MOV     R3,A
//  650 
//  651   /* Network address of interest */
//  652   shortAddr = BUILD_UINT16( pBuf[0], pBuf[1] );
//  653   pBuf += 2;
//  654 
//  655   retValue = (uint8)ZDP_ComplexDescReq( &destAddr, shortAddr, 0);
        ; Setup parameters for call to function ZDP_NWKAddrOfInterestReq
        MOV     ?V0 + 0,#0x0
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_ONE
        CFI CFA_XSP16 add(XSP16, 20)
        MOV     R1,#0x10
        MOV     DPL,R2
        MOV     DPH,R3
        MOVX    A,@DPTR
        MOV     R4,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R5,A
        MOV     A,#0x2
        LCALL   ?XSTACK_DISP0_8
        MOV     R2,DPL
        MOV     R3,DPH
        LCALL   ??ZDP_NWKAddrOfInterestReq?relay
        MOV     A,#0x1
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 19)
        MOV     A,R1
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    @DPTR,A
//  656 
//  657   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_ZDO), cmdId, 1, &retValue);
        ; Setup parameters for call to function MT_BuildAndSendZToolResponse
        MOV     R4,DPL
        MOV     R5,DPH
        MOV     R3,#0x1
        MOV     A,R6
        MOV     R2,A
        MOV     R1,#0x65
        LCALL   ??MT_BuildAndSendZToolResponse?relay
//  658 }
        MOV     A,#0xa
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 9)
        MOV     R7,#0x1
        LJMP    ?BANKED_LEAVE_XDATA
        CFI EndBlock cfiBlock8
//  659 
//  660 /***************************************************************************************************
//  661  * @fn      MT_ZdoUserDescRequest
//  662  *
//  663  * @brief   Handle a User Descriptor request.
//  664  *
//  665  * @param   pBuf  - MT message data
//  666  *
//  667  * @return  void
//  668  ***************************************************************************************************/

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  669 void MT_ZdoUserDescRequest(uint8 *pBuf)
MT_ZdoUserDescRequest:
        CFI Block cfiBlock9 Using cfiCommon0
        CFI Function MT_ZdoUserDescRequest
//  670 {
        FUNCALL MT_ZdoUserDescRequest, ZDP_NWKAddrOfInterestReq
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 20, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 20, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL MT_ZdoUserDescRequest, MT_BuildAndSendZToolResponse
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 19, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 19, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0x9
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 9)
        ; Saved register size: 9
        ; Auto size: 10
        MOV     A,#-0xa
        LCALL   ?ALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 19)
//  671   uint8 cmdId;
//  672   uint8 retValue;
//  673   zAddrType_t destAddr;
//  674   uint16 shortAddr;
//  675 
//  676   /* parse header */
//  677   cmdId = pBuf[MT_RPC_POS_CMD1];
        MOV     DPL,R2
        MOV     DPH,R3
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R6,A
//  678   pBuf += MT_RPC_FRAME_HDR_SZ;
        MOV     A,R2
        ADD     A,#0x3
        INC     R2
        INC     R2
        INC     R2
        MOV     A,R3
        ADDC    A,#0x0
        MOV     R3,A
//  679 
//  680   /* Dev address */
//  681   destAddr.addrMode = Addr16Bit;
        MOV     A,#0x2
        PUSH    A
        CFI CFA_SP SP+-1
        MOV     A,#0x9
        LCALL   ?XSTACK_DISP0_8
        POP     A
        CFI CFA_SP SP+0
        MOVX    @DPTR,A
//  682   destAddr.addr.shortAddr = BUILD_UINT16( pBuf[0], pBuf[1]);
        MOV     DPL,R2
        MOV     DPH,R3
        MOVX    A,@DPTR
        MOV     R4,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     A,R4
        MOV     R0,A
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP0_8
        MOV     A,R0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R1
        MOVX    @DPTR,A
//  683   pBuf += 2;
        MOV     A,R2
        ADD     A,#0x2
        INC     R2
        INC     R2
        MOV     A,R3
        ADDC    A,#0x0
        MOV     R3,A
//  684 
//  685   /* Network address of interest */
//  686   shortAddr = BUILD_UINT16( pBuf[0], pBuf[1]);
//  687   pBuf += 2;
//  688 
//  689   retValue = (uint8)ZDP_UserDescReq( &destAddr, shortAddr, 0);
        ; Setup parameters for call to function ZDP_NWKAddrOfInterestReq
        MOV     ?V0 + 0,#0x0
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_ONE
        CFI CFA_XSP16 add(XSP16, 20)
        MOV     R1,#0x11
        MOV     DPL,R2
        MOV     DPH,R3
        MOVX    A,@DPTR
        MOV     R4,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R5,A
        MOV     A,#0x2
        LCALL   ?XSTACK_DISP0_8
        MOV     R2,DPL
        MOV     R3,DPH
        LCALL   ??ZDP_NWKAddrOfInterestReq?relay
        MOV     A,#0x1
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 19)
        MOV     A,R1
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    @DPTR,A
//  690 
//  691   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_ZDO), cmdId, 1, &retValue);
        ; Setup parameters for call to function MT_BuildAndSendZToolResponse
        MOV     R4,DPL
        MOV     R5,DPH
        MOV     R3,#0x1
        MOV     A,R6
        MOV     R2,A
        MOV     R1,#0x65
        LCALL   ??MT_BuildAndSendZToolResponse?relay
//  692 }
        MOV     A,#0xa
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 9)
        MOV     R7,#0x1
        LJMP    ?BANKED_LEAVE_XDATA
        CFI EndBlock cfiBlock9
//  693 
//  694 /***************************************************************************************************
//  695  * @fn      MT_ZdoEndDevAnnce
//  696  *
//  697  * @brief   Handle a End Device Announce Descriptor request.
//  698  *
//  699  * @param   pBuf  - MT message data
//  700  *
//  701  * @return  void
//  702  ***************************************************************************************************/

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  703 void MT_ZdoEndDevAnnce(uint8 *pBuf)
MT_ZdoEndDevAnnce:
        CFI Block cfiBlock10 Using cfiCommon0
        CFI Function MT_ZdoEndDevAnnce
//  704 {
        FUNCALL MT_ZdoEndDevAnnce, ZDP_DeviceAnnce
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 11, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 11, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL MT_ZdoEndDevAnnce, MT_BuildAndSendZToolResponse
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 10, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 10, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0x9
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 9)
        ; Saved register size: 9
        ; Auto size: 1
        MOV     A,#-0x1
        LCALL   ?ALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 10)
        MOV     A,R2
        MOV     R4,A
        MOV     A,R3
        MOV     R5,A
//  705   uint8 cmdId;
//  706   uint8 retValue;
//  707   uint16 shortAddr;
//  708   uint8 *pIEEEAddr;
//  709 
//  710   /* parse header */
//  711   cmdId = pBuf[MT_RPC_POS_CMD1];
        MOV     DPL,R4
        MOV     DPH,R5
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R6,A
//  712   pBuf += MT_RPC_FRAME_HDR_SZ;
        MOV     A,R4
        ADD     A,#0x3
        INC     R4
        INC     R4
        INC     R4
        MOV     A,R5
        ADDC    A,#0x0
        MOV     R5,A
//  713 
//  714   /* network address */
//  715   shortAddr = BUILD_UINT16( pBuf[0], pBuf[1] );
        MOV     DPL,R4
        MOV     DPH,R5
        MOVX    A,@DPTR
        MOV     R2,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R0,A
        CLR     A
        XCH     A,R0
        MOV     R3,A
//  716   pBuf += 2;
        MOV     A,R4
        ADD     A,#0x2
        INC     R4
        INC     R4
        MOV     A,R5
        ADDC    A,#0x0
        MOV     R5,A
//  717 
//  718   /* extended address */
//  719   pIEEEAddr = pBuf;
//  720   pBuf += Z_EXTADDR_LEN;
//  721 
//  722   retValue = (uint8)ZDP_DeviceAnnce( shortAddr, pIEEEAddr, *pBuf, 0);
        ; Setup parameters for call to function ZDP_DeviceAnnce
        MOV     ?V0 + 0,R0
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_ONE
        CFI CFA_XSP16 add(XSP16, 11)
        MOV     DPL,R4
        MOV     DPH,R5
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   ??ZDP_DeviceAnnce?relay
        MOV     A,#0x1
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 10)
        MOV     A,R1
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    @DPTR,A
//  723 
//  724   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_ZDO), cmdId, 1, &retValue);
        ; Setup parameters for call to function MT_BuildAndSendZToolResponse
        MOV     R4,DPL
        MOV     R5,DPH
        MOV     R3,#0x1
        MOV     A,R6
        MOV     R2,A
        MOV     R1,#0x65
        LCALL   ??MT_BuildAndSendZToolResponse?relay
//  725 }
        MOV     A,#0x1
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 9)
        MOV     R7,#0x1
        LJMP    ?BANKED_LEAVE_XDATA
        CFI EndBlock cfiBlock10
//  726 
//  727 /***************************************************************************************************
//  728  * @fn      MT_ZdoUserDescSet
//  729  *
//  730  * @brief   Handle a User Descriptor Set.
//  731  *
//  732  * @param   pBuf  - MT message data
//  733  *
//  734  * @return  void
//  735  ***************************************************************************************************/

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  736 void MT_ZdoUserDescSet(uint8 *pBuf)
MT_ZdoUserDescSet:
        CFI Block cfiBlock11 Using cfiCommon0
        CFI Function MT_ZdoUserDescSet
//  737 {
        FUNCALL MT_ZdoUserDescSet, osal_memcpy
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 42, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 42, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL MT_ZdoUserDescSet, ZDP_UserDescSet
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 41, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 41, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL MT_ZdoUserDescSet, MT_BuildAndSendZToolResponse
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 39, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 39, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0xc
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 12)
        ; Saved register size: 12
        ; Auto size: 27
        MOV     A,#-0x1b
        LCALL   ?ALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 39)
//  738   uint8 cmdId;
//  739   uint8 retValue;
//  740   zAddrType_t destAddr;
//  741   uint16 shortAddr;
//  742   UserDescriptorFormat_t userDesc;
//  743 
//  744   /* parse header */
//  745   cmdId = pBuf[MT_RPC_POS_CMD1];
        MOV     DPL,R2
        MOV     DPH,R3
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     ?V0 + 3,A
//  746   pBuf += MT_RPC_FRAME_HDR_SZ;
        MOV     A,R2
        ADD     A,#0x3
        INC     R2
        INC     R2
        INC     R2
        MOV     A,R3
        ADDC    A,#0x0
        MOV     R3,A
//  747 
//  748   /* Dev address */
//  749   destAddr.addrMode = Addr16Bit;
        MOV     A,#0x2
        PUSH    A
        CFI CFA_SP SP+-1
        MOV     A,#0x9
        LCALL   ?XSTACK_DISP0_8
        POP     A
        CFI CFA_SP SP+0
        MOVX    @DPTR,A
//  750   destAddr.addr.shortAddr = BUILD_UINT16( pBuf[0], pBuf[1] );
        MOV     DPL,R2
        MOV     DPH,R3
        MOVX    A,@DPTR
        MOV     R4,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     A,R4
        MOV     R0,A
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP0_8
        MOV     A,R0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R1
        MOVX    @DPTR,A
//  751   pBuf += 2;
        MOV     A,R2
        ADD     A,#0x2
        INC     R2
        INC     R2
        MOV     A,R3
        ADDC    A,#0x0
        MOV     R3,A
//  752 
//  753   /* Network address of interest */
//  754   shortAddr = BUILD_UINT16( pBuf[0], pBuf[1] );
        MOV     DPL,R2
        MOV     DPH,R3
        MOVX    A,@DPTR
        MOV     R4,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R0,A
        CLR     A
        XCH     A,R0
        MOV     R1,A
        MOV     A,R4
        MOV     R6,A
        MOV     A,R1
        MOV     R7,A
//  755   pBuf += 2;
        MOV     A,R2
        ADD     A,#0x2
        INC     R2
        INC     R2
        MOV     A,R3
        ADDC    A,#0x0
        MOV     R3,A
//  756 
//  757   /* User descriptor */
//  758   userDesc.len = *pBuf++;
        MOV     DPL,R2
        MOV     DPH,R3
        MOVX    A,@DPTR
        PUSH    A
        CFI CFA_SP SP+-1
        MOV     A,#0xa
        LCALL   ?XSTACK_DISP0_8
        POP     A
        CFI CFA_SP SP+0
        MOVX    @DPTR,A
        MOV     DPL,R2
        MOV     DPH,R3
        INC     DPTR
        MOV     R2,DPL
        MOV     R3,DPH
//  759   osal_memcpy( userDesc.desc, pBuf, userDesc.len );
        ; Setup parameters for call to function osal_memcpy
        MOV     ?V0 + 0,R2
        MOV     ?V0 + 1,R3
        MOV     ?V0 + 2,R0
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_THREE
        CFI CFA_XSP16 add(XSP16, 42)
        MOV     A,#0xd
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        MOV     R4,A
        MOV     R5,#0x0
        MOV     A,#0xe
        LCALL   ?XSTACK_DISP0_8
        MOV     R2,DPL
        MOV     R3,DPH
        LCALL   ??osal_memcpy?relay
        MOV     A,#0x3
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 39)
//  760   pBuf += 16;
//  761 
//  762   retValue = (uint8)ZDP_UserDescSet( &destAddr, shortAddr, &userDesc, 0);
        ; Setup parameters for call to function ZDP_UserDescSet
        MOV     A,#0xa
        LCALL   ?XSTACK_DISP0_8
        MOV     ?V0 + 0,DPL
        MOV     ?V0 + 1,DPH
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 41)
        MOV     R1,#0x0
        MOV     A,R6
        MOV     R4,A
        MOV     A,R7
        MOV     R5,A
        MOV     A,#0x3
        LCALL   ?XSTACK_DISP0_8
        MOV     R2,DPL
        MOV     R3,DPH
        LCALL   ??ZDP_UserDescSet?relay
        MOV     A,#0x2
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 39)
        MOV     A,R1
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    @DPTR,A
//  763 
//  764   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_ZDO), cmdId, 1, &retValue);
        ; Setup parameters for call to function MT_BuildAndSendZToolResponse
        MOV     R4,DPL
        MOV     R5,DPH
        MOV     R3,#0x1
        MOV     R2,?V0 + 3
        MOV     R1,#0x65
        LCALL   ??MT_BuildAndSendZToolResponse?relay
//  765 }
        MOV     A,#0x1b
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 12)
        MOV     R7,#0x4
        LJMP    ?BANKED_LEAVE_XDATA
        CFI EndBlock cfiBlock11
//  766 
//  767 /***************************************************************************************************
//  768  * @fn      MT_ZdoServiceDiscRequest
//  769  *
//  770  * @brief   Handle a Server Discovery request.
//  771  *
//  772  * @param   pBuf  - MT message data
//  773  *
//  774  * @return  void
//  775  ***************************************************************************************************/

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  776 void MT_ZdoServiceDiscRequest(uint8 *pBuf)
MT_ZdoServiceDiscRequest:
        CFI Block cfiBlock12 Using cfiCommon0
        CFI Function MT_ZdoServiceDiscRequest
//  777 {
        FUNCALL MT_ZdoServiceDiscRequest, ZDP_ServerDiscReq
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 10, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 10, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL MT_ZdoServiceDiscRequest, MT_BuildAndSendZToolResponse
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 10, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 10, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0x9
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 9)
        ; Saved register size: 9
        ; Auto size: 1
        MOV     A,#-0x1
        LCALL   ?ALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 10)
//  778   uint8 cmdId;
//  779   uint8 retValue;
//  780   uint16 serviceMask;
//  781 
//  782   /* parse header */
//  783   cmdId = pBuf[MT_RPC_POS_CMD1];
        MOV     DPL,R2
        MOV     DPH,R3
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R6,A
//  784   pBuf += MT_RPC_FRAME_HDR_SZ;
        MOV     A,R2
        ADD     A,#0x3
        INC     R2
        INC     R2
        INC     R2
        MOV     A,R3
        ADDC    A,#0x0
        MOV     R3,A
//  785 
//  786   /* Service Mask */
//  787   serviceMask = BUILD_UINT16( pBuf[0], pBuf[1]);
//  788   pBuf += 2;
//  789 
//  790   retValue = (uint8)ZDP_ServerDiscReq( serviceMask, 0);
        ; Setup parameters for call to function ZDP_ServerDiscReq
        MOV     R1,#0x0
        MOV     DPL,R2
        MOV     DPH,R3
        MOVX    A,@DPTR
        MOV     R4,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R3,A
        MOV     A,R4
        MOV     R2,A
        LCALL   ??ZDP_ServerDiscReq?relay
        MOV     A,R1
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    @DPTR,A
//  791 
//  792   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_ZDO), cmdId, 1, &retValue);
        ; Setup parameters for call to function MT_BuildAndSendZToolResponse
        MOV     R4,DPL
        MOV     R5,DPH
        MOV     R3,#0x1
        MOV     A,R6
        MOV     R2,A
        MOV     R1,#0x65
        LCALL   ??MT_BuildAndSendZToolResponse?relay
//  793 }
        MOV     A,#0x1
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 9)
        MOV     R7,#0x1
        LJMP    ?BANKED_LEAVE_XDATA
        CFI EndBlock cfiBlock12
//  794 
//  795 /***************************************************************************************************
//  796  * @fn      MT_ZdoEndDevBindRequest
//  797  *
//  798  * @brief   Handle a End Device Bind request.
//  799  *
//  800  * @param   pBuf  - MT message data
//  801  *
//  802  * @return  void
//  803  ***************************************************************************************************/

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  804 void MT_ZdoEndDevBindRequest(uint8 *pBuf)
MT_ZdoEndDevBindRequest:
        CFI Block cfiBlock13 Using cfiCommon0
        CFI Function MT_ZdoEndDevBindRequest
//  805 {
        FUNCALL MT_ZdoEndDevBindRequest, ZDP_EndDeviceBindReq
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 94, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 94, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL MT_ZdoEndDevBindRequest, MT_BuildAndSendZToolResponse
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 85, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 85, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0xf
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-14)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-15)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 15)
        ; Saved register size: 15
        ; Auto size: 70
        MOV     A,#-0x46
        LCALL   ?ALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 85)
//  806   uint8 cmdId;
//  807   uint8 retValue = 0;
        CLR     A
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    @DPTR,A
//  808   uint8 i, epInt, numInClusters, numOutClusters;
//  809   zAddrType_t destAddr;
//  810   uint16 shortAddr;
//  811   uint16 profileID, inClusters[MTZDO_MAX_ED_BIND_CLUSTERS], outClusters[MTZDO_MAX_ED_BIND_CLUSTERS];
//  812 
//  813   /* parse header */
//  814   cmdId = pBuf[MT_RPC_POS_CMD1];
        MOV     DPL,R2
        MOV     DPH,R3
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     ?V0 + 6,A
//  815   pBuf += MT_RPC_FRAME_HDR_SZ;
        MOV     A,R2
        ADD     A,#0x3
        INC     R2
        INC     R2
        INC     R2
        MOV     A,R3
        ADDC    A,#0x0
        MOV     R3,A
//  816 
//  817   /* Dev address */
//  818   destAddr.addrMode = Addr16Bit;
        MOV     A,#0x2
        PUSH    A
        CFI CFA_SP SP+-1
        MOV     A,#0x9
        LCALL   ?XSTACK_DISP0_8
        POP     A
        CFI CFA_SP SP+0
        MOVX    @DPTR,A
//  819   destAddr.addr.shortAddr = BUILD_UINT16( pBuf[0], pBuf[1] );
        MOV     DPL,R2
        MOV     DPH,R3
        MOVX    A,@DPTR
        MOV     R4,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     A,R4
        MOV     R0,A
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP0_8
        MOV     A,R0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R1
        MOVX    @DPTR,A
//  820   pBuf += 2;
        MOV     A,R2
        ADD     A,#0x2
        INC     R2
        INC     R2
        MOV     A,R3
        ADDC    A,#0x0
        MOV     R3,A
//  821 
//  822   /* Local coordinator of the binding */
//  823   shortAddr = BUILD_UINT16( pBuf[0], pBuf[1] );
        MOV     DPL,R2
        MOV     DPH,R3
        MOVX    A,@DPTR
        MOV     R4,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     A,R4
        MOV     R6,A
        MOV     A,R1
        MOV     R7,A
//  824   pBuf += 2;
//  825   
//  826   /* For now, skip past the extended address */
//  827   pBuf += Z_EXTADDR_LEN;
        MOV     A,R2
        ADD     A,#0xa
        MOV     R2,A
        MOV     A,R3
        ADDC    A,#0x0
        MOV     R3,A
//  828 
//  829   /* Endpoint */
//  830   epInt = *pBuf++;
        MOV     DPL,R2
        MOV     DPH,R3
        MOVX    A,@DPTR
        MOV     ?V0 + 0,A
        INC     DPTR
        MOV     R2,DPL
        MOV     R3,DPH
//  831 
//  832   /* Profile ID */
//  833   profileID = BUILD_UINT16( pBuf[0], pBuf[1] );
        MOVX    A,@DPTR
        MOV     R4,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R0,A
        CLR     A
        XCH     A,R0
        MOV     R5,A
//  834   pBuf += 2;
        MOV     A,R2
        ADD     A,#0x2
        INC     R2
        INC     R2
        MOV     A,R3
        ADDC    A,#0x0
        MOV     R3,A
//  835 
//  836   /* NumInClusters */
//  837   numInClusters = *pBuf++;
        MOV     DPL,R2
        MOV     DPH,R3
        MOVX    A,@DPTR
        MOV     ?V0 + 1,A
        INC     DPTR
        INC     R2
        MOV     R3,DPH
//  838   if ( numInClusters <= MTZDO_MAX_ED_BIND_CLUSTERS )
        CLR     C
        SUBB    A,#0x10
        JNC     ??MT_ZdoEndDevBindRequest_0
//  839   {
//  840     for ( i = 0; i < numInClusters; i++ )
        MOV     ?V0 + 5,R0
??MT_ZdoEndDevBindRequest_1:
        MOV     A,?V0 + 5
        CLR     C
        SUBB    A,?V0 + 1
        JNC     ??MT_ZdoEndDevBindRequest_2
//  841     {
//  842       inClusters[i] = BUILD_UINT16(pBuf[0], pBuf[1]);
        MOV     DPL,R2
        MOV     DPH,R3
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     ?V0 + 3,A
        CLR     A
        ADD     A,R0
        MOV     ?V0 + 2,A
        MOV     A,?V0 + 5
        RLC     A
        MOV     R0,A
        CLR     A
        RLC     A
        MOV     R1,A
        MOV     A,#0x28
        LCALL   ?XSTACK_DISP0_8
        MOV     A,DPL
        ADD     A,R0
        MOV     DPL,A
        MOV     A,DPH
        ADDC    A,R1
        MOV     DPH,A
        MOV     A,?V0 + 2
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,?V0 + 3
        MOVX    @DPTR,A
//  843       pBuf += 2;
        MOV     A,R2
        ADD     A,#0x2
        INC     R2
        INC     R2
        MOV     A,R3
        ADDC    A,#0x0
        MOV     R3,A
//  844     }
        INC     ?V0 + 5
        SJMP    ??MT_ZdoEndDevBindRequest_1
//  845   }
//  846   else
//  847     retValue = ZDP_INVALID_REQTYPE;
??MT_ZdoEndDevBindRequest_0:
        MOV     A,#-0x80
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    @DPTR,A
//  848 
//  849   /* NumOutClusters */
//  850   numOutClusters = *pBuf++;
??MT_ZdoEndDevBindRequest_2:
        MOV     DPL,R2
        MOV     DPH,R3
        MOVX    A,@DPTR
        MOV     ?V0 + 4,A
        INC     DPTR
        MOV     R2,DPL
        MOV     R3,DPH
//  851   if ( numOutClusters <= MTZDO_MAX_ED_BIND_CLUSTERS )
        CLR     C
        SUBB    A,#0x10
        JNC     ??MT_ZdoEndDevBindRequest_3
//  852   {
//  853     for ( i = 0; i < numOutClusters; i++ )
        MOV     ?V0 + 5,#0x0
??MT_ZdoEndDevBindRequest_4:
        MOV     A,?V0 + 5
        CLR     C
        SUBB    A,?V0 + 4
        JNC     ??MT_ZdoEndDevBindRequest_5
//  854     {
//  855       outClusters[i] = BUILD_UINT16(pBuf[0], pBuf[1]);
        MOV     DPL,R2
        MOV     DPH,R3
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     ?V0 + 3,A
        CLR     A
        ADD     A,R0
        MOV     ?V0 + 2,A
        MOV     A,?V0 + 5
        RLC     A
        MOV     R0,A
        CLR     A
        RLC     A
        MOV     R1,A
        MOV     A,#0xa
        LCALL   ?XSTACK_DISP0_8
        MOV     A,DPL
        ADD     A,R0
        MOV     DPL,A
        MOV     A,DPH
        ADDC    A,R1
        MOV     DPH,A
        MOV     A,?V0 + 2
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,?V0 + 3
        MOVX    @DPTR,A
//  856       pBuf += 2;
        MOV     A,R2
        ADD     A,#0x2
        INC     R2
        INC     R2
        MOV     A,R3
        ADDC    A,#0x0
        MOV     R3,A
//  857     }
        INC     ?V0 + 5
        SJMP    ??MT_ZdoEndDevBindRequest_4
//  858   }
//  859   else
//  860     retValue = ZDP_INVALID_REQTYPE;
??MT_ZdoEndDevBindRequest_3:
        MOV     A,#-0x80
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    @DPTR,A
//  861   
//  862   if ( retValue == 0 )
??MT_ZdoEndDevBindRequest_5:
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    A,@DPTR
        JNZ     ??MT_ZdoEndDevBindRequest_6
//  863   {
//  864     retValue = (uint8)ZDP_EndDeviceBindReq( &destAddr, shortAddr, epInt, profileID,
//  865                                           numInClusters, inClusters, numOutClusters, outClusters, 0);
        ; Setup parameters for call to function ZDP_EndDeviceBindReq
        MOV     ?V0 + 2,#0x0
        MOV     R0,#?V0 + 2
        LCALL   ?PUSH_XSTACK_I_ONE
        CFI CFA_XSP16 add(XSP16, 86)
        MOV     A,#0xb
        LCALL   ?XSTACK_DISP0_8
        MOV     ?V0 + 2,DPL
        MOV     ?V0 + 3,DPH
        MOV     R0,#?V0 + 2
        LCALL   ?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 88)
        MOV     A,?V0 + 4
        MOV     ?V0 + 2,A
        MOV     R0,#?V0 + 2
        LCALL   ?PUSH_XSTACK_I_ONE
        CFI CFA_XSP16 add(XSP16, 89)
        MOV     A,#0x2c
        LCALL   ?XSTACK_DISP0_8
        MOV     ?V0 + 2,DPL
        MOV     ?V0 + 3,DPH
        MOV     R0,#?V0 + 2
        LCALL   ?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 91)
        MOV     R0,#?V0 + 1
        LCALL   ?PUSH_XSTACK_I_ONE
        CFI CFA_XSP16 add(XSP16, 92)
        MOV     ?V0 + 2,R4
        MOV     ?V0 + 3,R5
        MOV     R0,#?V0 + 2
        LCALL   ?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 94)
        MOV     R1,?V0 + 0
        MOV     A,R6
        MOV     R4,A
        MOV     A,R7
        MOV     R5,A
        MOV     A,#0xa
        LCALL   ?XSTACK_DISP0_8
        MOV     R2,DPL
        MOV     R3,DPH
        LCALL   ??ZDP_EndDeviceBindReq?relay
        MOV     A,#0x9
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 85)
        MOV     A,R1
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    @DPTR,A
//  866   }
//  867 
//  868   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_ZDO), cmdId, 1, &retValue);
??MT_ZdoEndDevBindRequest_6:
        ; Setup parameters for call to function MT_BuildAndSendZToolResponse
        MOV     R4,DPL
        MOV     R5,DPH
        MOV     R3,#0x1
        MOV     R2,?V0 + 6
        MOV     R1,#0x65
        LCALL   ??MT_BuildAndSendZToolResponse?relay
//  869 }
        MOV     A,#0x46
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 15)
        MOV     R7,#0x7
        LJMP    ?BANKED_LEAVE_XDATA
        CFI EndBlock cfiBlock13
//  870 
//  871 /***************************************************************************************************
//  872  * @fn      MT_ZdoBindRequest
//  873  *
//  874  * @brief   Handle a Bind request.
//  875  *
//  876  * @param   pBuf  - MT message data
//  877  *
//  878  * @return  void
//  879  ***************************************************************************************************/

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  880 void MT_ZdoBindRequest(uint8 *pBuf)
MT_ZdoBindRequest:
        CFI Block cfiBlock14 Using cfiCommon0
        CFI Function MT_ZdoBindRequest
//  881 {
        FUNCALL MT_ZdoBindRequest, sAddrExtCpy
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 35, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 35, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL MT_ZdoBindRequest, ZDP_BindUnbindReq
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 43, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 43, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL MT_ZdoBindRequest, MT_BuildAndSendZToolResponse
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 35, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 35, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0x10
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 16)
        ; Saved register size: 16
        ; Auto size: 19
        MOV     A,#-0x13
        LCALL   ?ALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 35)
//  882   uint8 cmdId;
//  883   uint8 retValue;
//  884   zAddrType_t destAddr, devAddr;
//  885   uint8 *pSrcAddr, *ptr;
//  886   uint8 srcEPInt, dstEPInt;
//  887   uint16 clusterID;
//  888 
//  889   /* parse header */
//  890   cmdId = pBuf[MT_RPC_POS_CMD1];
        MOV     DPL,R2
        MOV     DPH,R3
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     ?V0 + 3,A
//  891   pBuf += MT_RPC_FRAME_HDR_SZ;
        MOV     A,R2
        ADD     A,#0x3
        MOV     ?V0 + 0,A
        MOV     A,R3
        ADDC    A,#0x0
        MOV     ?V0 + 1,A
//  892 
//  893   /* Dev address */
//  894   destAddr.addrMode = Addr16Bit;
        MOV     A,#0x2
        PUSH    A
        CFI CFA_SP SP+-1
        MOV     A,#0x12
        LCALL   ?XSTACK_DISP0_8
        POP     A
        CFI CFA_SP SP+0
        MOVX    @DPTR,A
//  895   destAddr.addr.shortAddr = BUILD_UINT16( pBuf[0], pBuf[1] );
        MOV     DPL,?V0 + 0
        MOV     DPH,?V0 + 1
        MOVX    A,@DPTR
        MOV     R2,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     A,R2
        MOV     R0,A
        MOV     A,#0xa
        LCALL   ?XSTACK_DISP0_8
        MOV     A,R0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R1
        MOVX    @DPTR,A
//  896   pBuf += 2;
//  897 
//  898   /* SrcAddress */
//  899   pSrcAddr = pBuf;
        MOV     A,?V0 + 0
        ADD     A,#0x2
        MOV     ?V0 + 6,A
        MOV     A,?V0 + 1
        ADDC    A,#0x0
        MOV     ?V0 + 7,A
//  900   pBuf += Z_EXTADDR_LEN;
        MOV     A,?V0 + 6
        ADD     A,#0x8
        MOV     ?V0 + 0,A
        MOV     A,?V0 + 7
        ADDC    A,#0x0
//  901 
//  902   /* SrcEPInt */
//  903   srcEPInt = *pBuf++;
        MOV     DPL,?V0 + 0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     ?V0 + 2,A
        INC     DPTR
        MOV     ?V0 + 0,DPL
        MOV     ?V0 + 1,DPH
//  904 
//  905   /* ClusterID */
//  906   clusterID = BUILD_UINT16( pBuf[0], pBuf[1]);
        MOVX    A,@DPTR
        MOV     R2,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     A,R2
        MOV     R6,A
        MOV     A,R1
        MOV     R7,A
//  907   pBuf += 2;
        MOV     A,?V0 + 0
        ADD     A,#0x2
        MOV     ?V0 + 0,A
        MOV     A,?V0 + 1
        ADDC    A,#0x0
        MOV     ?V0 + 1,A
//  908 
//  909   /* Destination Address mode */
//  910   devAddr.addrMode = *pBuf++;
        MOV     DPL,?V0 + 0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R2,A
        PUSH    A
        CFI CFA_SP SP+-1
        MOV     A,#0x9
        LCALL   ?XSTACK_DISP0_8
        POP     A
        CFI CFA_SP SP+0
        MOVX    @DPTR,A
        MOV     DPL,?V0 + 0
        MOV     DPH,?V0 + 1
        INC     DPTR
        MOV     ?V0 + 0,DPL
        MOV     ?V0 + 1,DPH
//  911 
//  912   /* Destination Address */
//  913   if ( devAddr.addrMode == Addr64Bit )
        MOV     A,#0x3
        XRL     A,R2
        JNZ     ??MT_ZdoBindRequest_0
//  914   {
//  915     ptr = pBuf;
//  916     osal_cpyExtAddr( devAddr.addr.extAddr, ptr );
        ; Setup parameters for call to function sAddrExtCpy
        MOV     R4,?V0 + 0
        MOV     R5,?V0 + 1
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP0_8
        MOV     R2,DPL
        MOV     R3,DPH
        LCALL   ??sAddrExtCpy?relay
        SJMP    ??MT_ZdoBindRequest_1
//  917   }
//  918   else
//  919   {
//  920     devAddr.addr.shortAddr = BUILD_UINT16( pBuf[0], pBuf[1] );
??MT_ZdoBindRequest_0:
        MOVX    A,@DPTR
        MOV     R2,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     A,R2
        MOV     R0,A
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP0_8
        MOV     A,R0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R1
        MOVX    @DPTR,A
//  921   }
//  922   /* The short address occupies LSB two bytes */
//  923   pBuf += Z_EXTADDR_LEN;
//  924 
//  925   /* DstEPInt */
//  926   dstEPInt = *pBuf;
//  927 
//  928   retValue = (uint8)ZDP_BindReq( &destAddr, pSrcAddr, srcEPInt, clusterID, &devAddr, dstEPInt, 0);
??MT_ZdoBindRequest_1:
        ; Setup parameters for call to function ZDP_BindUnbindReq
        MOV     ?V0 + 4,#0x0
        MOV     R0,#?V0 + 4
        LCALL   ?PUSH_XSTACK_I_ONE
        CFI CFA_XSP16 add(XSP16, 36)
        MOV     DPL,?V0 + 0
        MOV     DPH,?V0 + 1
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     ?V0 + 0,A
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_ONE
        CFI CFA_XSP16 add(XSP16, 37)
        MOV     A,#0x3
        LCALL   ?XSTACK_DISP0_8
        MOV     ?V0 + 0,DPL
        MOV     ?V0 + 1,DPH
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 39)
        MOV     ?V0 + 0,R6
        MOV     ?V0 + 1,R7
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 41)
        MOV     R0,#?V0 + 6
        LCALL   ?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 43)
        MOV     R1,?V0 + 2
        MOV     A,#0x12
        LCALL   ?XSTACK_DISP0_8
        MOV     R4,DPL
        MOV     R5,DPH
        MOV     R2,#0x21
        MOV     R3,#0x0
        LCALL   ??ZDP_BindUnbindReq?relay
        MOV     A,#0x8
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 35)
        MOV     A,R1
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    @DPTR,A
//  929 
//  930   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_ZDO), cmdId, 1, &retValue);
        ; Setup parameters for call to function MT_BuildAndSendZToolResponse
        MOV     R4,DPL
        MOV     R5,DPH
        MOV     R3,#0x1
        MOV     R2,?V0 + 3
        MOV     R1,#0x65
        LCALL   ??MT_BuildAndSendZToolResponse?relay
//  931 }
        MOV     A,#0x13
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 16)
        MOV     R7,#0x8
        LJMP    ?BANKED_LEAVE_XDATA
        CFI EndBlock cfiBlock14
//  932 
//  933 /***************************************************************************************************
//  934  * @fn      MT_ZdoUnbindRequest
//  935  *
//  936  * @brief   Handle a Unbind request.
//  937  *
//  938  * @param   pBuf  - MT message data
//  939  *
//  940  * @return  void
//  941  ***************************************************************************************************/

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  942 void MT_ZdoUnbindRequest(uint8 *pBuf)
MT_ZdoUnbindRequest:
        CFI Block cfiBlock15 Using cfiCommon0
        CFI Function MT_ZdoUnbindRequest
//  943 {
        FUNCALL MT_ZdoUnbindRequest, sAddrExtCpy
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 35, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 35, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL MT_ZdoUnbindRequest, ZDP_BindUnbindReq
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 43, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 43, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL MT_ZdoUnbindRequest, MT_BuildAndSendZToolResponse
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 35, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 35, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0x10
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 16)
        ; Saved register size: 16
        ; Auto size: 19
        MOV     A,#-0x13
        LCALL   ?ALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 35)
//  944   uint8 cmdId;
//  945   uint8 retValue;
//  946   zAddrType_t destAddr, devAddr;
//  947   uint8 *pSrcAddr, *ptr;
//  948   uint8 srcEPInt, dstEPInt;
//  949   uint16 clusterID;
//  950 
//  951   /* parse header */
//  952   cmdId = pBuf[MT_RPC_POS_CMD1];
        MOV     DPL,R2
        MOV     DPH,R3
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     ?V0 + 3,A
//  953   pBuf += MT_RPC_FRAME_HDR_SZ;
        MOV     A,R2
        ADD     A,#0x3
        MOV     ?V0 + 0,A
        MOV     A,R3
        ADDC    A,#0x0
        MOV     ?V0 + 1,A
//  954 
//  955   /* dev address */
//  956   destAddr.addrMode = Addr16Bit;
        MOV     A,#0x2
        PUSH    A
        CFI CFA_SP SP+-1
        MOV     A,#0x12
        LCALL   ?XSTACK_DISP0_8
        POP     A
        CFI CFA_SP SP+0
        MOVX    @DPTR,A
//  957   destAddr.addr.shortAddr = BUILD_UINT16( pBuf[0], pBuf[1] );
        MOV     DPL,?V0 + 0
        MOV     DPH,?V0 + 1
        MOVX    A,@DPTR
        MOV     R2,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     A,R2
        MOV     R0,A
        MOV     A,#0xa
        LCALL   ?XSTACK_DISP0_8
        MOV     A,R0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R1
        MOVX    @DPTR,A
//  958   pBuf += 2;
//  959 
//  960   /* SrcAddress */
//  961   pSrcAddr = pBuf;
        MOV     A,?V0 + 0
        ADD     A,#0x2
        MOV     ?V0 + 6,A
        MOV     A,?V0 + 1
        ADDC    A,#0x0
        MOV     ?V0 + 7,A
//  962   pBuf += Z_EXTADDR_LEN;
        MOV     A,?V0 + 6
        ADD     A,#0x8
        MOV     ?V0 + 0,A
        MOV     A,?V0 + 7
        ADDC    A,#0x0
//  963 
//  964   /* SrcEPInt */
//  965   srcEPInt = *pBuf++;
        MOV     DPL,?V0 + 0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     ?V0 + 2,A
        INC     DPTR
        MOV     ?V0 + 0,DPL
        MOV     ?V0 + 1,DPH
//  966 
//  967   /* ClusterID */
//  968   clusterID = BUILD_UINT16( pBuf[0], pBuf[1]);
        MOVX    A,@DPTR
        MOV     R2,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     A,R2
        MOV     R6,A
        MOV     A,R1
        MOV     R7,A
//  969   pBuf += 2;
        MOV     A,?V0 + 0
        ADD     A,#0x2
        MOV     ?V0 + 0,A
        MOV     A,?V0 + 1
        ADDC    A,#0x0
        MOV     ?V0 + 1,A
//  970 
//  971   /* Destination Address mode */
//  972   devAddr.addrMode = *pBuf++;
        MOV     DPL,?V0 + 0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R2,A
        PUSH    A
        CFI CFA_SP SP+-1
        MOV     A,#0x9
        LCALL   ?XSTACK_DISP0_8
        POP     A
        CFI CFA_SP SP+0
        MOVX    @DPTR,A
        MOV     DPL,?V0 + 0
        MOV     DPH,?V0 + 1
        INC     DPTR
        MOV     ?V0 + 0,DPL
        MOV     ?V0 + 1,DPH
//  973 
//  974   /* Destination Address */
//  975   if ( devAddr.addrMode == Addr64Bit )
        MOV     A,#0x3
        XRL     A,R2
        JNZ     ??MT_ZdoUnbindRequest_0
//  976   {
//  977     ptr = pBuf;
//  978     osal_cpyExtAddr( devAddr.addr.extAddr, ptr );
        ; Setup parameters for call to function sAddrExtCpy
        MOV     R4,?V0 + 0
        MOV     R5,?V0 + 1
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP0_8
        MOV     R2,DPL
        MOV     R3,DPH
        LCALL   ??sAddrExtCpy?relay
        SJMP    ??MT_ZdoUnbindRequest_1
//  979   }
//  980   else
//  981   {
//  982     devAddr.addr.shortAddr = BUILD_UINT16( pBuf[0], pBuf[1] );
??MT_ZdoUnbindRequest_0:
        MOVX    A,@DPTR
        MOV     R2,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     A,R2
        MOV     R0,A
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP0_8
        MOV     A,R0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R1
        MOVX    @DPTR,A
//  983   }
//  984   /* The short address occupies LSB two bytes */
//  985   pBuf += Z_EXTADDR_LEN;
//  986 
//  987   /* dstEPInt */
//  988   dstEPInt = *pBuf;
//  989 
//  990   retValue = (uint8)ZDP_UnbindReq( &destAddr, pSrcAddr, srcEPInt, clusterID, &devAddr, dstEPInt, 0);
??MT_ZdoUnbindRequest_1:
        ; Setup parameters for call to function ZDP_BindUnbindReq
        MOV     ?V0 + 4,#0x0
        MOV     R0,#?V0 + 4
        LCALL   ?PUSH_XSTACK_I_ONE
        CFI CFA_XSP16 add(XSP16, 36)
        MOV     DPL,?V0 + 0
        MOV     DPH,?V0 + 1
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     ?V0 + 0,A
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_ONE
        CFI CFA_XSP16 add(XSP16, 37)
        MOV     A,#0x3
        LCALL   ?XSTACK_DISP0_8
        MOV     ?V0 + 0,DPL
        MOV     ?V0 + 1,DPH
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 39)
        MOV     ?V0 + 0,R6
        MOV     ?V0 + 1,R7
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 41)
        MOV     R0,#?V0 + 6
        LCALL   ?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 43)
        MOV     R1,?V0 + 2
        MOV     A,#0x12
        LCALL   ?XSTACK_DISP0_8
        MOV     R4,DPL
        MOV     R5,DPH
        MOV     R2,#0x22
        MOV     R3,#0x0
        LCALL   ??ZDP_BindUnbindReq?relay
        MOV     A,#0x8
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 35)
        MOV     A,R1
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    @DPTR,A
//  991 
//  992   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_ZDO), cmdId, 1, &retValue);
        ; Setup parameters for call to function MT_BuildAndSendZToolResponse
        MOV     R4,DPL
        MOV     R5,DPH
        MOV     R3,#0x1
        MOV     R2,?V0 + 3
        MOV     R1,#0x65
        LCALL   ??MT_BuildAndSendZToolResponse?relay
//  993 }
        MOV     A,#0x13
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 16)
        MOV     R7,#0x8
        LJMP    ?BANKED_LEAVE_XDATA
        CFI EndBlock cfiBlock15
//  994 
//  995 /***************************************************************************************************
//  996  * @fn      MT_ZdoStartupFromApp
//  997  *
//  998  * @brief   Handle a Startup from App request.
//  999  *
// 1000  * @param   pBuf  - MT message data
// 1001  *
// 1002  * @return  void
// 1003  ***************************************************************************************************/

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 1004 void MT_ZdoStartupFromApp(uint8 *pBuf)
MT_ZdoStartupFromApp:
        CFI Block cfiBlock16 Using cfiCommon0
        CFI Function MT_ZdoStartupFromApp
// 1005 {
        FUNCALL MT_ZdoStartupFromApp, ZDOInitDevice
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 10, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 10, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL MT_ZdoStartupFromApp, MT_BuildAndSendZToolResponse
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 10, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 10, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0x9
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 9)
        ; Saved register size: 9
        ; Auto size: 1
        MOV     A,#-0x1
        LCALL   ?ALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 10)
// 1006   uint8 cmdId;
// 1007   uint8 retValue;
// 1008 
// 1009   /* parse header */
// 1010   cmdId = pBuf[MT_RPC_POS_CMD1];
        MOV     DPL,R2
        MOV     DPH,R3
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R6,A
// 1011   pBuf += MT_RPC_FRAME_HDR_SZ;
// 1012 
// 1013   retValue = ZDOInitDevice(100);
        ; Setup parameters for call to function ZDOInitDevice
        MOV     R2,#0x64
        MOV     R3,#0x0
        LCALL   ??ZDOInitDevice?relay
        MOV     A,R1
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    @DPTR,A
// 1014 
// 1015   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_ZDO), cmdId, 1, &retValue);
        ; Setup parameters for call to function MT_BuildAndSendZToolResponse
        MOV     R4,DPL
        MOV     R5,DPH
        MOV     R3,#0x1
        MOV     A,R6
        MOV     R2,A
        MOV     R1,#0x65
        LCALL   ??MT_BuildAndSendZToolResponse?relay
// 1016 }
        MOV     A,#0x1
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 9)
        MOV     R7,#0x1
        LJMP    ?BANKED_LEAVE_XDATA
        CFI EndBlock cfiBlock16

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??MT_ZdoCommandProcessing?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    MT_ZdoCommandProcessing

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??MT_ZdoNWKAddressRequest?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    MT_ZdoNWKAddressRequest

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??MT_ZdoIEEEAddrRequest?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    MT_ZdoIEEEAddrRequest

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??MT_ZdoNodeDescRequest?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    MT_ZdoNodeDescRequest

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??MT_ZdoPowerDescRequest?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    MT_ZdoPowerDescRequest

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??MT_ZdoSimpleDescRequest?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    MT_ZdoSimpleDescRequest

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??MT_ZdoActiveEpRequest?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    MT_ZdoActiveEpRequest

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??MT_ZdoMatchDescRequest?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    MT_ZdoMatchDescRequest

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??MT_ZdoComplexDescRequest?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    MT_ZdoComplexDescRequest

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??MT_ZdoUserDescRequest?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    MT_ZdoUserDescRequest

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??MT_ZdoEndDevAnnce?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    MT_ZdoEndDevAnnce

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??MT_ZdoUserDescSet?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    MT_ZdoUserDescSet

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??MT_ZdoServiceDiscRequest?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    MT_ZdoServiceDiscRequest

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??MT_ZdoEndDevBindRequest?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    MT_ZdoEndDevBindRequest

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??MT_ZdoBindRequest?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    MT_ZdoBindRequest

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??MT_ZdoUnbindRequest?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    MT_ZdoUnbindRequest

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??MT_ZdoStartupFromApp?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    MT_ZdoStartupFromApp

        END
// 1017 
// 1018 #if defined (MT_ZDO_MGMT)
// 1019 /***************************************************************************************************
// 1020  * @fn      MT_ZdoMgmtNwkDiscRequest
// 1021  *
// 1022  * @brief   Handle a Mgmt Nwk Discovery request.
// 1023  *
// 1024  * @param   pBuf  - MT message data
// 1025  *
// 1026  * @return  void
// 1027  ***************************************************************************************************/
// 1028 void MT_ZdoMgmtNwkDiscRequest(uint8 *pBuf)
// 1029 {
// 1030   uint8 cmdId;
// 1031   uint8 retValue;
// 1032   zAddrType_t destAddr;
// 1033   uint32 scanChannels;
// 1034   uint8 scanDuration, startIndex;
// 1035 
// 1036   /* parse header */
// 1037   cmdId = pBuf[MT_RPC_POS_CMD1];
// 1038   pBuf += MT_RPC_FRAME_HDR_SZ;
// 1039 
// 1040   /* Dev address */
// 1041   destAddr.addrMode = Addr16Bit;
// 1042   destAddr.addr.shortAddr = BUILD_UINT16( pBuf[0], pBuf[1] );
// 1043   pBuf += 2;
// 1044 
// 1045   /* Scan Channels */
// 1046   scanChannels = BUILD_UINT32( pBuf[0], pBuf[1], pBuf[2], pBuf[3] );
// 1047   pBuf += 4;
// 1048 
// 1049   /* Scan Duration */
// 1050   scanDuration = *pBuf++;
// 1051 
// 1052   /* Start Index */
// 1053   startIndex = *pBuf;
// 1054 
// 1055   retValue = (uint8)ZDP_MgmtNwkDiscReq( &destAddr, scanChannels, scanDuration, startIndex, 0);
// 1056 
// 1057   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_ZDO), cmdId, 1, &retValue);
// 1058 }
// 1059 
// 1060 /***************************************************************************************************
// 1061  * @fn      MT_ZdoMgmtLqiRequest
// 1062  *
// 1063  * @brief   Handle a Mgmt Lqi request.
// 1064  *
// 1065  * @param   pBuf  - MT message data
// 1066  *
// 1067  * @return  void
// 1068  ***************************************************************************************************/
// 1069 void MT_ZdoMgmtLqiRequest(uint8 *pBuf)
// 1070 {
// 1071   uint8 cmdId;
// 1072   uint8 retValue;
// 1073   zAddrType_t destAddr;
// 1074   uint8 startIndex;
// 1075 
// 1076   /* parse header */
// 1077   cmdId = pBuf[MT_RPC_POS_CMD1];
// 1078   pBuf += MT_RPC_FRAME_HDR_SZ;
// 1079 
// 1080   /* Dev address */
// 1081   destAddr.addrMode = Addr16Bit;
// 1082   destAddr.addr.shortAddr = BUILD_UINT16( pBuf[0], pBuf[1] );
// 1083   pBuf += 2;
// 1084 
// 1085   /* Start Index */
// 1086   startIndex = *pBuf;
// 1087 
// 1088   retValue = (uint8)ZDP_MgmtLqiReq( &destAddr, startIndex, 0);
// 1089 
// 1090   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_ZDO), cmdId, 1, &retValue);
// 1091 }
// 1092 
// 1093 /***************************************************************************************************
// 1094  * @fn      MT_ZdoMgmtRtgRequest
// 1095  *
// 1096  * @brief   Handle a Mgmt Rtg request.
// 1097  *
// 1098  * @param   pBuf  - MT message data
// 1099  *
// 1100  * @return  void
// 1101  ***************************************************************************************************/
// 1102 void MT_ZdoMgmtRtgRequest(uint8 *pBuf)
// 1103 {
// 1104   uint8 cmdId;
// 1105   uint8 retValue;
// 1106   zAddrType_t destAddr;
// 1107   uint8 startIndex;
// 1108 
// 1109   /* parse header */
// 1110   cmdId = pBuf[MT_RPC_POS_CMD1];
// 1111   pBuf += MT_RPC_FRAME_HDR_SZ;
// 1112 
// 1113   /* Dev Address */
// 1114   destAddr.addrMode = Addr16Bit;
// 1115   destAddr.addr.shortAddr = BUILD_UINT16( pBuf[0], pBuf[1]);
// 1116   pBuf += 2;
// 1117 
// 1118   /* Start Index */
// 1119   startIndex = *pBuf;
// 1120 
// 1121   retValue = (byte)ZDP_MgmtRtgReq( &destAddr, startIndex, 0);
// 1122 
// 1123   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_ZDO), cmdId, 1, &retValue);
// 1124 }
// 1125 
// 1126 /***************************************************************************************************
// 1127  * @fn      MT_ZdoMgmtBindRequest
// 1128  *
// 1129  * @brief   Handle a Mgmt Bind request.
// 1130  *
// 1131  * @param   pBuf  - MT message data
// 1132  *
// 1133  * @return  void
// 1134  ***************************************************************************************************/
// 1135 void MT_ZdoMgmtBindRequest(uint8 *pBuf)
// 1136 {
// 1137   uint8 cmdId;
// 1138   uint8 retValue;
// 1139   zAddrType_t destAddr;
// 1140   uint8 startIndex;
// 1141 
// 1142   /* parse header */
// 1143   cmdId = pBuf[MT_RPC_POS_CMD1];
// 1144   pBuf += MT_RPC_FRAME_HDR_SZ;
// 1145 
// 1146   /* Dev Address */
// 1147   destAddr.addrMode = Addr16Bit;
// 1148   destAddr.addr.shortAddr = BUILD_UINT16( pBuf[0], pBuf[1] );
// 1149   pBuf += 2;
// 1150 
// 1151   /* Start Index */
// 1152   startIndex = *pBuf;
// 1153 
// 1154   retValue = (uint8)ZDP_MgmtBindReq( &destAddr, startIndex, 0);
// 1155 
// 1156   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_ZDO), cmdId, 1, &retValue);
// 1157 }
// 1158 
// 1159 /***************************************************************************************************
// 1160  * @fn      MT_ZdoMgmtLeaveRequest
// 1161  *
// 1162  * @brief   Handle a Mgmt Leave request.
// 1163  *
// 1164  * @param   pBuf  - MT message data
// 1165  *
// 1166  * @return  void
// 1167  ***************************************************************************************************/
// 1168 void MT_ZdoMgmtLeaveRequest(uint8 *pBuf)
// 1169 {
// 1170   uint8 cmdId;
// 1171   uint8 retValue;
// 1172   zAddrType_t destAddr;
// 1173   uint8 *pIEEEAddr;
// 1174   uint8 removeChildren, rejoin;
// 1175 
// 1176   /* parse header */
// 1177   cmdId = pBuf[MT_RPC_POS_CMD1];
// 1178   pBuf += MT_RPC_FRAME_HDR_SZ;
// 1179 
// 1180   /* Destination Address */
// 1181   destAddr.addrMode = Addr16Bit;
// 1182   destAddr.addr.shortAddr = BUILD_UINT16( pBuf[0], pBuf[1] );
// 1183   pBuf += 2;
// 1184 
// 1185   /* IEEE address */
// 1186   pIEEEAddr = pBuf;
// 1187   pBuf += Z_EXTADDR_LEN;
// 1188 
// 1189   /* Remove Children */
// 1190   removeChildren = *pBuf++;
// 1191 
// 1192   /* Rejoin */
// 1193   rejoin = *pBuf;
// 1194 
// 1195   retValue = (byte)ZDP_MgmtLeaveReq( &destAddr, pIEEEAddr, removeChildren, rejoin, 0);
// 1196 
// 1197   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_ZDO), cmdId, 1, &retValue);
// 1198 }
// 1199 
// 1200 
// 1201 /***************************************************************************************************
// 1202  * @fn      MT_ZdoMgmtDirectJoinRequest
// 1203  *
// 1204  * @brief   Handle a Mgmt Direct Join request.
// 1205  *
// 1206  * @param   pBuf  - MT message data
// 1207  *
// 1208  * @return  void
// 1209  ***************************************************************************************************/
// 1210 void MT_ZdoMgmtDirectJoinRequest(uint8 *pBuf)
// 1211 {
// 1212   uint8 cmdId;
// 1213   uint8 retValue;
// 1214   zAddrType_t destAddr;
// 1215   uint8 *deviceAddr;
// 1216   uint8 capInfo;
// 1217 
// 1218   /* parse header */
// 1219   cmdId = pBuf[MT_RPC_POS_CMD1];
// 1220   pBuf += MT_RPC_FRAME_HDR_SZ;
// 1221 
// 1222   /* Destination Address */
// 1223   destAddr.addrMode = Addr16Bit;
// 1224   destAddr.addr.shortAddr = BUILD_UINT16( pBuf[0], pBuf[1] );
// 1225   pBuf += 2;
// 1226 
// 1227   /* Device Address */
// 1228   deviceAddr = pBuf;
// 1229   pBuf += Z_EXTADDR_LEN;
// 1230 
// 1231   /* Capability information */
// 1232   capInfo = *pBuf;
// 1233 
// 1234   retValue = (uint8)ZDP_MgmtDirectJoinReq( &destAddr, deviceAddr, capInfo, 0);
// 1235 
// 1236   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_ZDO), cmdId, 1, &retValue);
// 1237 }
// 1238 
// 1239 /***************************************************************************************************
// 1240  * @fn      MT_ZdoMgmtPermitJoinRequest
// 1241  *
// 1242  * @brief   Handle a Mgmt Permit Join request.
// 1243  *
// 1244  * @param   pBuf  - MT message data
// 1245  *
// 1246  * @return  void
// 1247  ***************************************************************************************************/
// 1248 void MT_ZdoMgmtPermitJoinRequest(uint8 *pBuf)
// 1249 {
// 1250   uint8 cmdId;
// 1251   uint8 retValue;
// 1252   zAddrType_t destAddr;
// 1253   uint8 duration, tcSignificance;
// 1254 
// 1255   /* parse header */
// 1256   cmdId = pBuf[MT_RPC_POS_CMD1];
// 1257   pBuf += MT_RPC_FRAME_HDR_SZ;
// 1258 
// 1259   /* Destination Address */
// 1260   destAddr.addrMode = Addr16Bit;
// 1261   destAddr.addr.shortAddr = BUILD_UINT16( pBuf[0], pBuf[1] );
// 1262   pBuf += 2;
// 1263 
// 1264   /* Duration */
// 1265   duration = *pBuf++;
// 1266 
// 1267   /* Trust center significance */
// 1268   tcSignificance = *pBuf;
// 1269 
// 1270   retValue = (byte)ZDP_MgmtPermitJoinReq( &destAddr, duration, tcSignificance, 0);
// 1271 
// 1272   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_ZDO), cmdId, 1, &retValue);
// 1273 }
// 1274 
// 1275 /***************************************************************************************************
// 1276  * @fn      MT_ZdoMgmtNwkUpdateRequest
// 1277  *
// 1278  * @brief   Handle a Mgmt Nwk Update request.
// 1279  *
// 1280  * @param   pBuf  - MT message data
// 1281  *
// 1282  * @return  void
// 1283  ***************************************************************************************************/
// 1284 void MT_ZdoMgmtNwkUpdateRequest(uint8 *pBuf)
// 1285 {
// 1286   uint8 cmdId;
// 1287   uint8 retValue;
// 1288   zAddrType_t destAddr;
// 1289   uint32 channelMask;
// 1290   uint8 scanDuration, scanCount;
// 1291   uint16 nwkManagerAddr;
// 1292 
// 1293     /* parse header */
// 1294   cmdId = pBuf[MT_RPC_POS_CMD1];
// 1295   pBuf += MT_RPC_FRAME_HDR_SZ;
// 1296 
// 1297   /* Destination address */
// 1298   destAddr.addr.shortAddr = BUILD_UINT16( pBuf[0], pBuf[1] );
// 1299   pBuf += 2;
// 1300 
// 1301   /* Destination address mode */
// 1302   destAddr.addrMode = *pBuf++;
// 1303 
// 1304   channelMask = BUILD_UINT32( pBuf[0], pBuf[1], pBuf[2], pBuf[3]);
// 1305   pBuf += 4;
// 1306 
// 1307   /* Scan duration */
// 1308   scanDuration = *pBuf++;
// 1309 
// 1310   /* Scan count */
// 1311   scanCount = *pBuf++;
// 1312 
// 1313   /* NWK manager address */
// 1314   nwkManagerAddr = BUILD_UINT16( pBuf[0], pBuf[1] );
// 1315 
// 1316   /* Send the Management Network Update request */
// 1317   retValue = (uint8)ZDP_MgmtNwkUpdateReq( &destAddr, channelMask, scanDuration,
// 1318                                           scanCount, _NIB.nwkUpdateId+1, nwkManagerAddr );
// 1319 
// 1320   /*
// 1321     Since we don't recevied our own broadcast messages, we should
// 1322     send a unicast copy of the message to ourself.
// 1323   */
// 1324   if ( destAddr.addrMode == AddrBroadcast )
// 1325   {
// 1326     destAddr.addrMode = Addr16Bit;
// 1327     destAddr.addr.shortAddr = _NIB.nwkDevAddress;
// 1328     retValue = (uint8) ZDP_MgmtNwkUpdateReq( &destAddr, channelMask, scanDuration,
// 1329                                              scanCount, _NIB.nwkUpdateId+1, nwkManagerAddr );
// 1330   }
// 1331 
// 1332   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_ZDO), cmdId, 1, &retValue);
// 1333 }
// 1334 #endif /* MT_ZDO_MGMT */
// 1335 
// 1336 #endif /* MT_ZDO_FUNC */
// 1337 
// 1338 
// 1339 /***************************************************************************************************
// 1340  * Callback handling function
// 1341  ***************************************************************************************************/
// 1342 
// 1343 #if defined (MT_ZDO_CB_FUNC)
// 1344 /***************************************************************************************************
// 1345  * @fn     MT_ZdoDirectCB()
// 1346  *
// 1347  * @brief  ZDO direct callback.  Build an MT message directly from the
// 1348  *         over-the-air ZDO message.
// 1349  *
// 1350  * @param  pData - Incoming AF frame.
// 1351  *
// 1352  * @return  none
// 1353  ***************************************************************************************************/
// 1354 void MT_ZdoDirectCB( afIncomingMSGPacket_t *pData,  zdoIncomingMsg_t *inMsg )
// 1355 {
// 1356   uint8 dataLen;
// 1357   uint8 msgLen;
// 1358   uint8 *pBuf;
// 1359   uint8 *p;
// 1360   uint8 id;
// 1361   
// 1362   // Is the message an exception or not a response?
// 1363   if ( MT_ZdoHandleExceptions( pData, inMsg ) || ( (pData->clusterId & ZDO_RESPONSE_BIT) == 0 ) )
// 1364   {
// 1365     // Handled somewhere else or not needed
// 1366     return;
// 1367   }
// 1368 
// 1369   /* map cluster ID to MT message */
// 1370   id = (uint8) pData->clusterId;
// 1371   id = mtZdoCluster2Rsp[id >> 4][id & 0x0F];
// 1372 
// 1373   /* ZDO data starts after one-byte sequence number */
// 1374   dataLen = pData->cmd.DataLength - 1;
// 1375 
// 1376   /* msg buffer length includes two bytes for srcAddr */
// 1377   msgLen = dataLen + sizeof(uint16);
// 1378 
// 1379   /* get buffer */
// 1380   if ((p = pBuf = MT_TransportAlloc(((uint8)MT_RPC_CMD_AREQ |(uint8)MT_RPC_SYS_ZDO), msgLen)) != NULL)
// 1381   {
// 1382     /* build header */
// 1383     *p++ = msgLen;
// 1384     *p++ = (uint8)MT_RPC_CMD_AREQ | (uint8)MT_RPC_SYS_ZDO;
// 1385     *p++ = id;
// 1386 
// 1387     /* build srcAddr */
// 1388     *p++ = LO_UINT16(pData->srcAddr.addr.shortAddr);
// 1389     *p++ = HI_UINT16(pData->srcAddr.addr.shortAddr);
// 1390 
// 1391     /* copy ZDO data, skipping one-byte sequence number */
// 1392     osal_memcpy(p, (pData->cmd.Data + 1), dataLen);
// 1393 
// 1394     /* send it */
// 1395     MT_TransportSend(pBuf);
// 1396   }
// 1397 }
// 1398 
// 1399 /***************************************************************************************************
// 1400  * @fn     MT_ZdoHandleExceptions()
// 1401  *
// 1402  * @brief  Handles all messages that are an expection to the generic MT ZDO Response.
// 1403  *
// 1404  * @param  pData - Incoming AF frame.
// 1405  *
// 1406  * @return  TRUE if handled by this function, FALSE if not
// 1407  ***************************************************************************************************/
// 1408 uint8 MT_ZdoHandleExceptions( afIncomingMSGPacket_t *pData, zdoIncomingMsg_t *inMsg )
// 1409 {
// 1410   uint8 ret = TRUE;
// 1411   ZDO_NwkIEEEAddrResp_t *nwkRsp = NULL;
// 1412   ZDO_DeviceAnnce_t devAnnce;
// 1413   uint8 doDefault = FALSE;
// 1414   
// 1415   switch ( inMsg->clusterID )
// 1416   {
// 1417     case NWK_addr_rsp:
// 1418     case IEEE_addr_rsp:
// 1419       nwkRsp = ZDO_ParseAddrRsp( inMsg );
// 1420       MT_ZdoAddrRspCB( nwkRsp, inMsg->clusterID );
// 1421       if ( nwkRsp )
// 1422         osal_mem_free( nwkRsp );
// 1423       break;
// 1424       
// 1425     case Device_annce:
// 1426       ZDO_ParseDeviceAnnce( inMsg, &devAnnce );
// 1427       MT_ZdoEndDevAnnceCB( &devAnnce, inMsg->srcAddr.addr.shortAddr );
// 1428       break;
// 1429       
// 1430     case Simple_Desc_rsp:
// 1431       if ( pData->cmd.DataLength > 5 )
// 1432         ret = FALSE;
// 1433       else
// 1434         doDefault = TRUE;        
// 1435       break;  
// 1436       
// 1437     default:
// 1438       ret = FALSE;
// 1439       break;
// 1440   }
// 1441   
// 1442   if ( doDefault )
// 1443   {
// 1444     ret = FALSE;
// 1445     pData->clusterId = 0x26;
// 1446     pData->cmd.DataLength = 2;
// 1447   }
// 1448   
// 1449   return ( ret );
// 1450 }
// 1451 
// 1452 /***************************************************************************************************
// 1453  * @fn      MT_ZdoAddrRspCB
// 1454  *
// 1455  * @brief   Handle IEEE or nwk address response OSAL message from ZDO.
// 1456  *
// 1457  * @param   pMsg  - Message data
// 1458  *
// 1459  * @return  void
// 1460  */
// 1461 void MT_ZdoAddrRspCB( ZDO_NwkIEEEAddrResp_t *pMsg, uint16 clusterID )
// 1462 {
// 1463   uint8   listLen;
// 1464   uint8   msgLen;
// 1465   uint8   *pBuf;
// 1466   uint8   *p;
// 1467 
// 1468   /* both ZDO_NwkAddrResp_t and ZDO_IEEEAddrResp_t must be the same */
// 1469 
// 1470   /* get length, sanity check length */
// 1471   listLen = pMsg->numAssocDevs;
// 1472   
// 1473   /* calculate msg length */
// 1474   msgLen = MT_ZDO_ADDR_RSP_LEN + (listLen * sizeof(uint16));
// 1475 
// 1476   /* get buffer */
// 1477   if ((p = pBuf = MT_TransportAlloc(((uint8)MT_RPC_CMD_AREQ | (uint8)MT_RPC_SYS_ZDO), msgLen)) != NULL)
// 1478   {
// 1479     /* build header */
// 1480     *p++ = msgLen;
// 1481     *p++ = (uint8)MT_RPC_CMD_AREQ | (uint8)MT_RPC_SYS_ZDO;
// 1482     *p++ = (clusterID == IEEE_addr_rsp) ?
// 1483            MT_ZDO_IEEE_ADDR_RSP : MT_ZDO_NWK_ADDR_RSP;
// 1484 
// 1485     /* build msg parameters */
// 1486 
// 1487     *p++ = pMsg->status;
// 1488 
// 1489     osal_cpyExtAddr(p, pMsg->extAddr);
// 1490     p += Z_EXTADDR_LEN;
// 1491 
// 1492     *p++ = LO_UINT16(pMsg->nwkAddr);
// 1493     *p++ = HI_UINT16(pMsg->nwkAddr);
// 1494 
// 1495     *p++ = pMsg->startIndex;
// 1496 
// 1497     *p++ = listLen;
// 1498 
// 1499     MT_Word2Buf(p, pMsg->devList, listLen);
// 1500 
// 1501     /* send it */
// 1502     MT_TransportSend(pBuf);
// 1503   }
// 1504 }
// 1505 
// 1506 /***************************************************************************************************
// 1507  * @fn      MT_ZdoEndDevAnnceCB
// 1508  *
// 1509  * @brief   Handle end device announce OSAL message from ZDO.
// 1510  *
// 1511  * @param   pMsg  - Message data
// 1512  *
// 1513  * @return  void
// 1514  */
// 1515 void MT_ZdoEndDevAnnceCB( ZDO_DeviceAnnce_t *pMsg, uint16 srcAddr )
// 1516 {
// 1517   uint8 *pBuf;
// 1518   uint8 *p;
// 1519 
// 1520   if ((p = pBuf = MT_TransportAlloc(((uint8)MT_RPC_CMD_AREQ | (uint8)MT_RPC_SYS_ZDO),
// 1521                     MT_ZDO_END_DEVICE_ANNCE_IND_LEN)) != NULL)
// 1522   {
// 1523     *p++ = MT_ZDO_END_DEVICE_ANNCE_IND_LEN;
// 1524     *p++ = (uint8)MT_RPC_CMD_AREQ | (uint8)MT_RPC_SYS_ZDO;
// 1525     *p++ = MT_ZDO_END_DEVICE_ANNCE_IND;
// 1526 
// 1527     *p++ = LO_UINT16(srcAddr);
// 1528     *p++ = HI_UINT16(srcAddr);
// 1529 
// 1530     *p++ = LO_UINT16(pMsg->nwkAddr);
// 1531     *p++ = HI_UINT16(pMsg->nwkAddr);
// 1532 
// 1533     osal_cpyExtAddr(p, pMsg->extAddr);
// 1534     p += Z_EXTADDR_LEN;
// 1535 
// 1536     *p = pMsg->capabilities;
// 1537 
// 1538     MT_TransportSend(pBuf);
// 1539   }
// 1540 }
// 1541 #endif // MT_ZDO_CB_FUNC
// 1542 /***************************************************************************************************
// 1543 ***************************************************************************************************/
// 1544 
// 1545 #endif   /*ZDO Command Processing in MT*/
// 
// 3 105 bytes in segment BANKED_CODE
//   102 bytes in segment BANK_RELAYS
//   104 bytes in segment XDATA_Z
// 
// 3 207 bytes of CODE  memory
//   104 bytes of XDATA memory
//
//Errors: none
//Warnings: none
